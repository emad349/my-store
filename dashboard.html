<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… â€” Ù…ØªØ¬Ø±ÙŠ</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<style>
:root{
  --p:#7c3aed;--p2:#6d28d9;--s:#2563eb;
  --nv:#0d1035;--nv2:#141847;--ac:#a78bfa;
  --gr:#64748b;--bd:#e2e8f0;--tx:#1e293b;--tx2:#475569;
  --bg:#f1f0fa;--white:#fff;
  --re:#ef4444;--gn:#10b981;--yw:#f59e0b;--or:#f97316;
  --sw:260px;
}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Cairo',sans-serif;background:var(--bg);color:var(--tx);min-height:100vh;display:flex;direction:rtl;}

/* â”€â”€ LOGIN â”€â”€ */
.lp{display:flex;align-items:center;justify-content:center;min-height:100vh;width:100%;background:linear-gradient(135deg,var(--nv),var(--nv2),#1e1065);position:relative;overflow:hidden;}
.lp::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse 60% 60% at 30% 40%,rgba(124,58,237,.3),transparent),radial-gradient(ellipse 40% 50% at 80% 70%,rgba(37,99,235,.25),transparent);}
.lcard{background:rgba(255,255,255,.06);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:24px;padding:2.5rem;width:100%;max-width:400px;position:relative;z-index:1;}
.lcard-logo{display:flex;align-items:center;gap:.8rem;margin-bottom:2rem;justify-content:center;}
.lcard-icon{width:48px;height:48px;background:linear-gradient(135deg,var(--p),var(--s));border-radius:14px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.5rem;font-weight:900;}
.lcard-name{font-size:1.4rem;font-weight:900;color:#fff;}
.l-sub{text-align:center;color:rgba(255,255,255,.55);font-size:.88rem;margin-bottom:2rem;}
.lg{margin-bottom:1rem;}
.ll{display:block;font-size:.8rem;color:rgba(255,255,255,.55);margin-bottom:.4rem;font-weight:600;}
.li{width:100%;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.15);border-radius:10px;padding:.72rem 1rem;font-family:'Cairo',sans-serif;font-size:.93rem;color:#fff;outline:none;transition:border-color .2s;}
.li::placeholder{color:rgba(255,255,255,.3);}
.li:focus{border-color:var(--ac);}
.btn-ls{width:100%;background:linear-gradient(135deg,var(--p),var(--s));border:none;color:#fff;padding:.85rem;border-radius:12px;font-family:'Cairo',sans-serif;font-size:1rem;font-weight:800;cursor:pointer;margin-top:.5rem;transition:all .2s;}
.btn-ls:hover{opacity:.9;}
.l-hint{text-align:center;color:rgba(255,255,255,.3);font-size:.76rem;margin-top:1rem;}

/* â”€â”€ SIDEBAR â”€â”€ */
.sidebar{width:var(--sw);background:var(--nv);min-height:100vh;display:flex;flex-direction:column;position:fixed;top:0;right:0;z-index:100;transition:transform .3s;}
.sb-logo{display:flex;align-items:center;gap:.7rem;padding:1.3rem 1.4rem;border-bottom:1px solid rgba(255,255,255,.07);}
.sb-logo-ic{width:38px;height:38px;background:linear-gradient(135deg,var(--p),var(--s));border-radius:10px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.2rem;font-weight:900;flex-shrink:0;}
.sb-logo-t{font-size:1.1rem;font-weight:900;color:#fff;}
.sb-logo-s{font-size:.68rem;color:rgba(255,255,255,.38);font-weight:400;}
.sb-nav{flex:1;padding:.8rem 0;overflow-y:auto;}
.sb-sec{font-size:.65rem;font-weight:700;color:rgba(255,255,255,.28);text-transform:uppercase;letter-spacing:.1em;padding:.5rem 1.4rem;margin-top:.5rem;}
.nav-item{display:flex;align-items:center;gap:.75rem;padding:.65rem 1.4rem;cursor:pointer;transition:all .2s;border-right:3px solid transparent;color:rgba(255,255,255,.5);font-size:.86rem;font-weight:600;text-decoration:none;}
.nav-item:hover{background:rgba(255,255,255,.04);color:rgba(255,255,255,.85);}
.nav-item.act{background:rgba(124,58,237,.14);color:#fff;border-right-color:var(--ac);}
.nav-item .ni{font-size:1rem;width:20px;text-align:center;flex-shrink:0;}
.nb{background:var(--p);color:#fff;font-size:.62rem;font-weight:800;padding:.1rem .42rem;border-radius:50px;margin-right:auto;}
.sb-foot{padding:1rem 1.4rem;border-top:1px solid rgba(255,255,255,.07);}
.sb-user{display:flex;align-items:center;gap:.7rem;}
.sb-av{width:36px;height:36px;background:linear-gradient(135deg,var(--p),var(--s));border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:.9rem;flex-shrink:0;}
.sb-un{font-size:.84rem;font-weight:700;color:#fff;}
.sb-ur{font-size:.68rem;color:rgba(255,255,255,.38);}
.btn-lo{background:none;border:none;color:rgba(255,255,255,.38);cursor:pointer;font-size:1rem;transition:color .2s;}
.btn-lo:hover{color:#f87171;}

/* â”€â”€ TOPBAR â”€â”€ */
.topbar{background:#fff;border-bottom:1px solid var(--bd);padding:0 2rem;height:60px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:50;}
.tb-title{font-size:1.05rem;font-weight:800;color:var(--nv);}
.tb-right{display:flex;align-items:center;gap:.7rem;}
.tb-badge{background:#f0ebff;color:var(--p);font-size:.76rem;font-weight:700;padding:.3rem .7rem;border-radius:7px;}
.btn-vs{background:linear-gradient(135deg,var(--p),var(--s));color:#fff;border:none;padding:.4rem .9rem;border-radius:8px;font-family:'Cairo',sans-serif;font-size:.81rem;font-weight:700;cursor:pointer;text-decoration:none;display:inline-flex;align-items:center;gap:.3rem;}
.menu-toggle{display:none;background:none;border:none;cursor:pointer;font-size:1.3rem;color:var(--tx);}

/* â”€â”€ MAIN â”€â”€ */
.main{margin-right:var(--sw);flex:1;display:flex;flex-direction:column;min-height:100vh;}
.content{padding:1.5rem 2rem;flex:1;}

/* â”€â”€ PAGES â”€â”€ */
.page{display:none;}
.page.act{display:block;}

/* â”€â”€ CARDS â”€â”€ */
.card{background:#fff;border-radius:14px;border:1px solid var(--bd);margin-bottom:1.2rem;overflow:hidden;}
.card-hd{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.3rem;border-bottom:1px solid var(--bd);}
.card-ttl{font-size:.95rem;font-weight:800;color:var(--nv);}
.card-body{padding:1.3rem;}

/* â”€â”€ STATS â”€â”€ */
.stats-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:1rem;margin-bottom:1.2rem;}
.scard{background:#fff;border-radius:14px;padding:1.2rem;border:1px solid var(--bd);display:flex;align-items:center;gap:1rem;}
.sc-ic{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:1.35rem;flex-shrink:0;}
.sc-ic.pu{background:rgba(124,58,237,.1);} .sc-ic.bl{background:rgba(37,99,235,.1);} .sc-ic.gn{background:rgba(16,185,129,.1);} .sc-ic.or{background:rgba(249,115,22,.1);}
.sc-num{font-size:1.5rem;font-weight:900;}
.sc-lbl{font-size:.76rem;color:var(--gr);}
.sc-ch{font-size:.73rem;font-weight:700;margin-top:.15rem;color:var(--gn);}
.sc-ch.warn{color:var(--or);}

/* â”€â”€ BADGES â”€â”€ */
.bdg{display:inline-flex;align-items:center;font-size:.7rem;font-weight:700;padding:.2rem .55rem;border-radius:50px;}
.bdg-pu{background:#f0ebff;color:var(--p);} .bdg-gn{background:#d1fae5;color:#065f46;} .bdg-re{background:#fee2e2;color:#991b1b;} .bdg-yw{background:#fef3c7;color:#92400e;} .bdg-bl{background:#dbeafe;color:#1e40af;} .bdg-gr{background:#f1f5f9;color:var(--gr);}

/* â”€â”€ BUTTONS â”€â”€ */
.btn{border:none;border-radius:8px;cursor:pointer;font-family:'Cairo',sans-serif;font-weight:600;transition:all .2s;display:inline-flex;align-items:center;gap:.3rem;}
.btn-sm{font-size:.76rem;padding:.28rem .65rem;}
.btn-md{font-size:.86rem;padding:.48rem .95rem;}
.btn-pri{background:linear-gradient(135deg,var(--p),var(--s));color:#fff;}
.btn-pri:hover{opacity:.9;}
.btn-dan{background:#fee2e2;color:var(--re);}
.btn-dan:hover{background:#fecaca;}
.btn-ghost{background:none;border:1px solid var(--bd);color:var(--tx2);}
.btn-ghost:hover{border-color:var(--p);color:var(--p);}
.btn-suc{background:#d1fae5;color:#065f46;}
.btn-suc:hover{background:#a7f3d0;}

/* â”€â”€ TABLES â”€â”€ */
.tw{overflow-x:auto;}
table{width:100%;border-collapse:collapse;}
th{text-align:right;font-size:.72rem;font-weight:700;color:var(--gr);padding:.55rem 1rem;border-bottom:1px solid var(--bd);white-space:nowrap;}
td{padding:.65rem 1rem;font-size:.83rem;border-bottom:1px solid #f1f5f9;vertical-align:middle;}
tr:last-child td{border-bottom:none;}
tr:hover td{background:#fafafe;}
.pthm{width:36px;height:36px;border-radius:8px;background:linear-gradient(135deg,#f0ebff,#e0f2fe);display:flex;align-items:center;justify-content:center;font-size:1.2rem;flex-shrink:0;}

/* â”€â”€ FORMS â”€â”€ */
.fg{margin-bottom:.9rem;}
.fg.no-mb{margin-bottom:0;}
.fl{display:block;font-size:.78rem;font-weight:700;color:var(--tx2);margin-bottom:.38rem;}
.fi{width:100%;border:1.5px solid var(--bd);border-radius:9px;padding:.58rem .9rem;font-family:'Cairo',sans-serif;font-size:.88rem;color:var(--tx);outline:none;background:#fff;transition:border-color .2s;}
.fi:focus{border-color:var(--p);}
.fi[type="color"]{height:38px;padding:.3rem;}
select.fi{cursor:pointer;}
textarea.fi{resize:vertical;min-height:70px;}
.fhint{font-size:.72rem;color:var(--gr);margin-top:.28rem;}
.frow{display:grid;grid-template-columns:1fr 1fr;gap:.9rem;margin-bottom:.9rem;}
.frow.tri{grid-template-columns:1fr 1fr 1fr;}
.frow.full{grid-template-columns:1fr;}
.switch{position:relative;width:44px;height:24px;display:inline-block;}
.switch input{display:none;}
.slider{position:absolute;inset:0;background:#cbd5e1;border-radius:12px;cursor:pointer;transition:.3s;}
.slider::before{content:'';position:absolute;width:18px;height:18px;background:#fff;border-radius:50%;bottom:3px;right:3px;transition:.3s;box-shadow:0 1px 4px rgba(0,0,0,.2);}
.switch input:checked+.slider{background:linear-gradient(135deg,var(--p),var(--s));}
.switch input:checked+.slider::before{transform:translateX(-20px);}

/* â”€â”€ SETTINGS â”€â”€ */
.ss-ttl{font-size:.95rem;font-weight:800;color:var(--nv);padding-bottom:.65rem;border-bottom:2px solid #f0ebff;margin-bottom:1.1rem;display:flex;align-items:center;gap:.5rem;}
.ss-ttl::before{content:'';display:inline-block;width:4px;height:1em;background:linear-gradient(var(--p),var(--s));border-radius:4px;}
.set-row{display:flex;align-items:center;justify-content:space-between;padding:.72rem 0;border-bottom:1px solid #f1f5f9;}
.set-row:last-child{border-bottom:none;}
.set-lbl{font-size:.86rem;font-weight:700;}
.set-desc{font-size:.76rem;color:var(--gr);margin-top:.1rem;}

/* â”€â”€ COLOR PRESETS â”€â”€ */
.cpresets{display:flex;gap:.45rem;flex-wrap:wrap;margin-top:.5rem;}
.cpre{width:26px;height:26px;border-radius:50%;cursor:pointer;border:2px solid transparent;transition:all .2s;}
.cpre:hover,.cpre.sel{border-color:#fff;box-shadow:0 0 0 2px var(--p);}
.prev-banner{border-radius:10px;padding:1.3rem;margin-top:.9rem;display:flex;align-items:center;justify-content:space-between;transition:all .3s;}
.prev-banner-t{font-size:1.1rem;font-weight:900;color:#fff;}
.prev-banner-b{background:#fff;border:none;padding:.38rem .85rem;border-radius:7px;font-family:'Cairo',sans-serif;font-weight:700;cursor:pointer;font-size:.8rem;}

/* â”€â”€ MODAL â”€â”€ */
.modal-ov{position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:500;display:flex;align-items:center;justify-content:center;padding:1rem;opacity:0;pointer-events:none;transition:opacity .25s;}
.modal-ov.open{opacity:1;pointer-events:all;}
.modal{background:#fff;border-radius:18px;width:100%;max-width:600px;max-height:90vh;overflow-y:auto;transform:scale(.96);transition:transform .25s;}
.modal-ov.open .modal{transform:scale(1);}
.modal.lg{max-width:800px;}
.modal-hd{display:flex;align-items:center;justify-content:space-between;padding:1.1rem 1.4rem;border-bottom:1px solid var(--bd);position:sticky;top:0;background:#fff;z-index:1;}
.modal-ttl{font-size:.98rem;font-weight:800;color:var(--nv);}
.modal-cls{background:none;border:none;cursor:pointer;color:var(--gr);font-size:1.25rem;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:7px;}
.modal-cls:hover{background:#f1f5f9;}
.modal-body{padding:1.4rem;}
.modal-foot{padding:1rem 1.4rem;border-top:1px solid var(--bd);display:flex;gap:.7rem;justify-content:flex-end;}

/* â”€â”€ TABS â”€â”€ */
.tabs{display:flex;background:#f1f0fa;border-radius:10px;padding:.28rem;margin-bottom:1.1rem;gap:.2rem;}
.tab-btn{flex:1;border:none;background:none;padding:.48rem;border-radius:7px;cursor:pointer;font-family:'Cairo',sans-serif;font-size:.83rem;font-weight:600;color:var(--gr);transition:all .2s;}
.tab-btn.act{background:#fff;color:var(--p);box-shadow:0 1px 4px rgba(0,0,0,.07);}

/* â”€â”€ CODES SECTION â”€â”€ */
.codes-box{background:#f8f7ff;border:1px solid rgba(124,58,237,.18);border-radius:10px;padding:.75rem;font-size:.78rem;font-family:monospace;max-height:160px;overflow-y:auto;}
.code-item{display:flex;align-items:center;justify-content:space-between;padding:.28rem .45rem;border-radius:6px;transition:background .15s;}
.code-item:hover{background:rgba(124,58,237,.06);}
.ctag{background:#f0ebff;color:var(--p);padding:.14rem .48rem;border-radius:5px;font-weight:700;letter-spacing:.04em;}
.cused{color:var(--re);font-size:.68rem;}
.cavail{color:var(--gn);font-size:.68rem;}
.codes-inp-area{display:flex;gap:.5rem;margin-top:.65rem;}
.codes-inp-area textarea{flex:1;border:1.5px solid var(--bd);border-radius:8px;padding:.5rem .7rem;font-family:monospace;font-size:.8rem;resize:none;height:55px;outline:none;}
.codes-inp-area textarea:focus{border-color:var(--p);}

/* â”€â”€ NAV BUILDER â”€â”€ */
.nav-builder-item{display:flex;align-items:center;gap:.6rem;background:#f8f7ff;border:1px solid var(--bd);border-radius:10px;padding:.6rem .8rem;margin-bottom:.5rem;}
.nav-builder-item input{flex:1;border:1.5px solid var(--bd);border-radius:7px;padding:.38rem .6rem;font-family:'Cairo',sans-serif;font-size:.84rem;outline:none;}
.nav-builder-item input:focus{border-color:var(--p);}

/* â”€â”€ SOCIAL BUILDER â”€â”€ */
.soc-row{display:flex;align-items:center;gap:.7rem;padding:.65rem 0;border-bottom:1px solid #f1f5f9;}
.soc-row:last-child{border-bottom:none;}
.soc-icon{font-size:1.3rem;width:28px;text-align:center;flex-shrink:0;}
.soc-lbl{font-size:.84rem;font-weight:700;min-width:90px;}
.soc-url{flex:1;border:1.5px solid var(--bd);border-radius:8px;padding:.4rem .7rem;font-family:'Cairo',sans-serif;font-size:.82rem;outline:none;}
.soc-url:focus{border-color:var(--p);}

/* â”€â”€ MOBILE NAV BUILDER â”€â”€ */
.mn-builder-row{display:flex;align-items:center;gap:.6rem;padding:.6rem;background:#f8f7ff;border:1px solid var(--bd);border-radius:10px;margin-bottom:.5rem;}
.mn-builder-row input{border:1.5px solid var(--bd);border-radius:7px;padding:.36rem .55rem;font-family:'Cairo',sans-serif;font-size:.82rem;outline:none;}
.mn-builder-row input:focus{border-color:var(--p);}

/* â”€â”€ REVIEW BUILDER â”€â”€ */
.rev-row{display:flex;align-items:start;gap:.6rem;padding:.7rem;background:#f8f7ff;border:1px solid var(--bd);border-radius:10px;margin-bottom:.5rem;}
.rev-row .rev-avatar{width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;font-size:.9rem;flex-shrink:0;background:linear-gradient(135deg,var(--p),var(--s));}

/* â”€â”€ EMPTY â”€â”€ */
.empty{text-align:center;padding:2.5rem;color:var(--gr);}
.empty-ic{font-size:2.8rem;margin-bottom:.5rem;}

/* â”€â”€ NOTIF â”€â”€ */
.notif{position:fixed;top:1rem;left:50%;transform:translateX(-50%) translateY(-80px);background:var(--nv);color:#fff;padding:.68rem 1.4rem;border-radius:50px;font-size:.86rem;font-weight:600;z-index:9999;transition:transform .3s;box-shadow:0 4px 20px rgba(0,0,0,.22);display:flex;align-items:center;gap:.4rem;white-space:nowrap;}
.notif.show{transform:translateX(-50%) translateY(0);}
.notif.ok{background:linear-gradient(135deg,#065f46,#059669);}
.notif.err{background:linear-gradient(135deg,#991b1b,#dc2626);}

/* â”€â”€ SIDEBAR OVERLAY â”€â”€ */
.sb-ov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:99;}
.sb-ov.show{display:block;}

/* â”€â”€ RESPONSIVE â”€â”€ */
@media(max-width:900px){
  .stats-grid{grid-template-columns:repeat(2,1fr);}
  .sidebar{transform:translateX(100%);}
  .sidebar.open{transform:translateX(0);}
  .main{margin-right:0;}
  .topbar{padding:0 1rem;}
  .content{padding:1rem;}
  .frow,.frow.tri{grid-template-columns:1fr;}
  .menu-toggle{display:block;}
}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="lp" id="loginPage">
  <div class="lcard">
    <div class="lcard-logo">
      <div class="lcard-icon">Ù…</div>
      <div><div class="lcard-name">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</div></div>
    </div>
    <p class="l-sub">Ø³Ø¬Ù‘Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</p>
    <div class="lg"><label class="ll">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label><input type="text" class="li" id="lu" value="aabbuuooamad@gmail.com" placeholder="admin"></div>
    <div class="lg"><label class="ll">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><input type="password" class="li" id="lp" value="Aa121314@" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"></div>
    <button class="btn-ls" onclick="doLogin()">Ø¯Ø®ÙˆÙ„ â†</button>
    <p class="l-hint">aabbuuooamad@gmail.com / Aa121314@</p>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none;width:100%;display:none;">
<div class="sb-ov" id="sbOv" onclick="closeSB()"></div>

<!-- SIDEBAR -->
<aside class="sidebar" id="sidebar">
  <div class="sb-logo">
    <div class="sb-logo-ic">Ù…</div>
    <div><div class="sb-logo-t">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</div><div class="sb-logo-s">Ù…ØªØ¬Ø±ÙŠ</div></div>
  </div>
  <nav class="sb-nav">
    <div class="sb-sec">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
    <a class="nav-item act" onclick="goto('dash')" href="#"><span class="ni">ğŸ“Š</span>Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</a>
    <div class="sb-sec">Ø§Ù„Ù…ØªØ¬Ø±</div>
    <a class="nav-item" onclick="goto('products')" href="#"><span class="ni">ğŸ“¦</span>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
    <a class="nav-item" onclick="goto('codes')" href="#"><span class="ni">ğŸ”‘</span>Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª<span class="nb" id="nb-codes" style="display:none">!</span></a>
    <a class="nav-item" onclick="goto('orders')" href="#"><span class="ni">ğŸ›’</span>Ø§Ù„Ø·Ù„Ø¨Ø§Øª<span class="nb" id="nb-orders">0</span></a>
    <a class="nav-item" onclick="goto('customers')" href="#"><span class="ni">ğŸ‘¥</span>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
    <div class="sb-sec">Ø§Ù„ØªØ®ØµÙŠØµ Ø§Ù„ÙƒØ§Ù…Ù„</div>
    <a class="nav-item" onclick="goto('identity')" href="#"><span class="ni">ğŸ·ï¸</span>Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ§Ù„Ù„ÙˆÙ‚Ùˆ</a>
    <a class="nav-item" onclick="goto('colors')" href="#"><span class="ni">ğŸ¨</span>Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø«ÙŠÙ…</a>
    <a class="nav-item" onclick="goto('hero')" href="#"><span class="ni">ğŸ–¼ï¸</span>Ø§Ù„Ù‡ÙŠØ±Ùˆ ÙˆØ§Ù„Ø´Ø¹Ø§Ø±Ø§Øª</a>
    <a class="nav-item" onclick="goto('announce')" href="#"><span class="ni">ğŸ“¢</span>Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</a>
    <a class="nav-item" onclick="goto('trust')" href="#"><span class="ni">âœ…</span>Ø´Ø±ÙŠØ· Ø§Ù„Ø«Ù‚Ø©</a>
    <a class="nav-item" onclick="goto('categories')" href="#"><span class="ni">ğŸ—‚ï¸</span>Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a>
    <a class="nav-item" onclick="goto('promo')" href="#"><span class="ni">ğŸ</span>Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠ</a>
    <a class="nav-item" onclick="goto('social')" href="#"><span class="ni">ğŸŒ</span>Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</a>
    <a class="nav-item" onclick="goto('mobilenav')" href="#"><span class="ni">ğŸ“±</span>Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ©</a>
    <a class="nav-item" onclick="goto('navlinks')" href="#"><span class="ni">ğŸ”—</span>Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„</a>
    <a class="nav-item" onclick="goto('footer')" href="#"><span class="ni">ğŸ“„</span>Ø§Ù„ÙÙˆØªØ±</a>
    <a class="nav-item" onclick="goto('reviews')" href="#"><span class="ni">â­</span>Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</a>
    <div class="sb-sec">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>
    <a class="nav-item" onclick="goto('store-settings')" href="#"><span class="ni">ğŸª</span>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</a>
    <a class="nav-item" onclick="goto('delivery')" href="#"><span class="ni">ğŸ’¬</span>ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØªØ³Ù„ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯</a>
    <a class="nav-item" onclick="goto('account')" href="#"><span class="ni">ğŸ”’</span>Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ§Ù„Ø£Ù…Ø§Ù†</a>
  </nav>
  <div class="sb-foot">
    <div class="sb-user">
      <div class="sb-av">Ù…</div>
      <div><div class="sb-un">Ø§Ù„Ù…Ø¯ÙŠØ±</div><div class="sb-ur">Ø¨Ø§Ø¦Ø¹ Ø±Ø¦ÙŠØ³ÙŠ</div></div>
      <button class="btn-lo" onclick="doLogout()" title="Ø®Ø±ÙˆØ¬">â»</button>
    </div>
  </div>
</aside>

<!-- MAIN -->
<div class="main">
  <div class="topbar">
    <div style="display:flex;align-items:center;gap:.5rem;">
      <button class="menu-toggle" onclick="toggleSB()">â˜°</button>
      <div class="tb-title" id="tbTitle">ğŸ“Š Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©</div>
    </div>
    <div class="tb-right">
      <span class="tb-badge">ğŸŸ¢ Ø§Ù„Ù…ØªØ¬Ø± Ù…ÙØ¹Ù‘Ù„</span>
      <a href="store.html" target="_blank" class="btn-vs">ğŸ”— Ø¹Ø±Ø¶ Ø§Ù„Ù…ØªØ¬Ø±</a>
    </div>
  </div>

  <div class="content">

    <!-- â•â• DASH â•â• -->
    <div class="page act" id="pg-dash">
      <div class="stats-grid">
        <div class="scard"><div class="sc-ic pu">ğŸ’°</div><div><div class="sc-num" id="st-rev">0</div><div class="sc-lbl">Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª (Ø±.Ø³)</div><div class="sc-ch">â†‘ Ø§Ù„ÙŠÙˆÙ…</div></div></div>
        <div class="scard"><div class="sc-ic bl">ğŸ›’</div><div><div class="sc-num" id="st-ord">0</div><div class="sc-lbl">Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div></div></div>
        <div class="scard"><div class="sc-ic gn">ğŸ‘¥</div><div><div class="sc-num" id="st-cus">0</div><div class="sc-lbl">Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div></div></div>
        <div class="scard"><div class="sc-ic or">ğŸ”‘</div><div><div class="sc-num" id="st-codes">0</div><div class="sc-lbl">Ø£ÙƒÙˆØ§Ø¯ Ù…ØªØ¨Ù‚ÙŠØ©</div><div class="sc-ch warn" id="st-codes-w"></div></div></div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:1.2rem;">
        <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ•’ Ø¢Ø®Ø± Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div><button class="btn btn-ghost btn-sm" onclick="goto('orders')">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</button></div><div class="card-body" id="d-recent-orders"></div></div>
        <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ”‘ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</div><button class="btn btn-ghost btn-sm" onclick="goto('codes')">Ø¥Ø¯Ø§Ø±Ø©</button></div><div class="card-body" id="d-codes-alert"></div></div>
      </div>
    </div>

    <!-- â•â• PRODUCTS â•â• -->
    <div class="page" id="pg-products">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ“¦ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div><button class="btn btn-pri btn-md" onclick="openProdModal()">+ Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</button></div>
        <div class="tw"><table><thead><tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„ÙØ¦Ø©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</th><th>Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th></tr></thead><tbody id="prods-tbody"></tbody></table></div>
      </div>
    </div>

    <!-- â•â• CODES â•â• -->
    <div class="page" id="pg-codes">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ”‘ Ù…Ø¯ÙŠØ± Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</div>
        <div style="display:flex;gap:.5rem;"><button class="btn btn-ghost btn-md" onclick="openBulkModal()">ğŸ“‹ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ø§Ù„Ø¬Ù…Ù„Ø©</button><button class="btn btn-pri btn-md" onclick="openProdModal(null,true)">+ Ù…Ù†ØªØ¬ Ø¨Ø±Ù…Ø²</button></div>
      </div>
        <div class="card-body"><div class="tabs"><button class="tab-btn act" onclick="switchCodesTab('all',this)">Ø§Ù„ÙƒÙ„</button><button class="tab-btn" onclick="switchCodesTab('code',this)">Ø£ÙƒÙˆØ§Ø¯ Ù†ØµÙŠØ©</button><button class="tab-btn" onclick="switchCodesTab('account',this)">Ø­Ø³Ø§Ø¨Ø§Øª</button><button class="tab-btn" onclick="switchCodesTab('low',this)">âš ï¸ Ù…Ù†Ø®ÙØ¶</button></div><div id="codes-content"></div></div>
      </div>
    </div>

    <!-- â•â• ORDERS â•â• -->
    <div class="page" id="pg-orders">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ›’ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
        <select class="fi" style="width:auto;font-size:.8rem;padding:.3rem .6rem;" onchange="filterOrders(this.value)"><option value="all">Ø§Ù„ÙƒÙ„</option><option value="pending">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</option><option value="done">Ù…ÙƒØªÙ…Ù„</option><option value="cancelled">Ù…Ù„ØºÙŠ</option></select>
      </div>
        <div class="tw"><table><thead><tr><th>#</th><th>Ø§Ù„Ø¹Ù…ÙŠÙ„</th><th>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th><th>Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ÙØ³Ù„ÙÙ‘Ù…</th><th>Ø§Ù„Ø­Ø§Ù„Ø©</th><th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th><th>Ø¥Ø¬Ø±Ø§Ø¡</th></tr></thead><tbody id="orders-tbody"></tbody></table></div>
      </div>
    </div>

    <!-- â•â• CUSTOMERS â•â• -->
    <div class="page" id="pg-customers">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ‘¥ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div><span class="bdg bdg-pu" id="cus-count">0</span></div>
        <div class="tw"><table><thead><tr><th>Ø§Ù„Ø§Ø³Ù…</th><th>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th><th>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</th><th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th><th>ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th></tr></thead><tbody id="cus-tbody"></tbody></table></div>
      </div>
    </div>

    <!-- â•â• IDENTITY â•â• -->
    <div class="page" id="pg-identity">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ·ï¸ Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ§Ù„Ù„ÙˆÙ‚Ùˆ</div><button class="btn btn-pri btn-md" onclick="saveSection('meta')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="ss-ttl">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</div>
          <div class="frow"><div class="fg no-mb"><label class="fl">Ø§Ø³Ù… Ø§Ù„Ù…ØªØ¬Ø±</label><input type="text" class="fi" id="m-name"></div><div class="fg no-mb"><label class="fl">Ø§Ù„Ø´Ø¹Ø§Ø± (Tagline)</label><input type="text" class="fi" id="m-tagline"></div></div>
          <div class="ss-ttl" style="margin-top:1.2rem;">Ø§Ù„Ù„ÙˆÙ‚Ùˆ Ø§Ù„Ù†ØµÙŠ</div>
          <div class="frow">
            <div class="fg no-mb"><label class="fl">Ø­Ø±Ù Ø§Ù„Ù„ÙˆÙ‚Ùˆ (Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø©)</label><input type="text" class="fi" id="m-letter" maxlength="2" placeholder="Ù…"></div>
            <div class="fg no-mb"><label class="fl">Ù†Øµ Ø§Ù„Ù„ÙˆÙ‚Ùˆ</label><input type="text" class="fi" id="m-logotext" placeholder="Ù…ØªØ¬Ø±ÙŠ"></div>
          </div>
          <div class="ss-ttl" style="margin-top:1.2rem;">ØµÙˆØ±Ø© Ø§Ù„Ù„ÙˆÙ‚Ùˆ (ØªØ³ØªØ¨Ø¯Ù„ Ø§Ù„Ø­Ø±Ù)</div>
          <div class="fg"><label class="fl">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© (URL Ø£Ùˆ base64)</label><input type="text" class="fi" id="m-logoimg" placeholder="https://... Ø£Ùˆ Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºØ§Ù‹ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø­Ø±Ù"></div>
          <div class="fg"><label class="fl">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù„ÙˆÙ‚Ùˆ</label>
            <div style="display:flex;align-items:center;gap:1rem;margin-top:.5rem;">
              <div id="logo-prev" style="width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1.4rem;font-weight:900;overflow:hidden;"></div>
              <div id="logo-text-prev" style="font-size:1.2rem;font-weight:900;color:var(--nv);"></div>
            </div>
          </div>
          <button class="btn btn-ghost btn-sm" onclick="updateLogoPrev()">ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</button>
        </div>
      </div>
    </div>

    <!-- â•â• COLORS â•â• -->
    <div class="page" id="pg-colors">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø«ÙŠÙ…</div><button class="btn btn-pri btn-md" onclick="saveSection('colors')">ğŸ’¾ Ø­ÙØ¸ ÙˆØªØ·Ø¨ÙŠÙ‚</button></div>
        <div class="card-body">
          <div class="ss-ttl">Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div>
          <div class="frow tri">
            <div class="fg no-mb"><label class="fl">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</label><input type="color" class="fi" id="c-primary" oninput="previewColors()"><div class="cpresets">
              <div class="cpre sel" style="background:#7c3aed" onclick="setClr('c-primary','#7c3aed',this)"></div>
              <div class="cpre" style="background:#2563eb" onclick="setClr('c-primary','#2563eb',this)"></div>
              <div class="cpre" style="background:#059669" onclick="setClr('c-primary','#059669',this)"></div>
              <div class="cpre" style="background:#dc2626" onclick="setClr('c-primary','#dc2626',this)"></div>
              <div class="cpre" style="background:#ea580c" onclick="setClr('c-primary','#ea580c',this)"></div>
              <div class="cpre" style="background:#0891b2" onclick="setClr('c-primary','#0891b2',this)"></div>
              <div class="cpre" style="background:#be185d" onclick="setClr('c-primary','#be185d',this)"></div>
            </div></div>
            <div class="fg no-mb"><label class="fl">Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ</label><input type="color" class="fi" id="c-secondary" oninput="previewColors()"><div class="cpresets">
              <div class="cpre sel" style="background:#2563eb" onclick="setClr('c-secondary','#2563eb',this)"></div>
              <div class="cpre" style="background:#7c3aed" onclick="setClr('c-secondary','#7c3aed',this)"></div>
              <div class="cpre" style="background:#0891b2" onclick="setClr('c-secondary','#0891b2',this)"></div>
              <div class="cpre" style="background:#059669" onclick="setClr('c-secondary','#059669',this)"></div>
            </div></div>
            <div class="fg no-mb"><label class="fl">Ù„ÙˆÙ† Ø§Ù„ØªÙ…ÙŠÙŠØ² (Accent)</label><input type="color" class="fi" id="c-accent" oninput="previewColors()"></div>
          </div>
          <div class="frow tri" style="margin-top:.5rem;">
            <div class="fg no-mb"><label class="fl">Ù„ÙˆÙ† Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¯Ø§ÙƒÙ†</label><input type="color" class="fi" id="c-navy" oninput="previewColors()"></div>
            <div class="fg no-mb"><label class="fl">Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø©</label><input type="color" class="fi" id="c-bg" oninput="previewColors()"></div>
            <div class="fg no-mb"><label class="fl">Ù„ÙˆÙ† Ø§Ù„ÙÙˆØªØ±</label><input type="color" class="fi" id="c-footer" oninput="previewColors()"></div>
          </div>
          <div class="ss-ttl" style="margin-top:1.2rem;">Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ</div>
          <div class="prev-banner" id="prevBanner">
            <div><div class="prev-banner-t" id="prevBannerT">ØªØ³ÙˆÙ‘Ù‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</div><div style="color:rgba(255,255,255,.6);font-size:.78rem;margin-top:.3rem;">Ø§ÙƒØªØ´Ù ØªØ´ÙƒÙŠÙ„ØªÙ†Ø§ Ø§Ù„Ø­ØµØ±ÙŠØ©</div></div>
            <button class="prev-banner-b" id="prevBannerBtn">ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†</button>
          </div>
          <div class="ss-ttl" style="margin-top:1.3rem;">Ø«ÙŠÙ…Ø§Øª Ø¬Ø§Ù‡Ø²Ø©</div>
          <div style="display:flex;gap:.7rem;flex-wrap:wrap;">
            <button class="btn btn-ghost btn-sm" onclick="applyTheme('#7c3aed','#2563eb','#a78bfa','#0d1035','#f8f7ff','#0d1035')">ğŸ’œ Ø¨Ù†ÙØ³Ø¬ÙŠ Ø£Ø²Ø±Ù‚</button>
            <button class="btn btn-ghost btn-sm" onclick="applyTheme('#059669','#0891b2','#6ee7b7','#064e3b','#f0fdf4','#064e3b')">ğŸŒ¿ Ø£Ø®Ø¶Ø± Ø£Ø²Ø±Ù‚</button>
            <button class="btn btn-ghost btn-sm" onclick="applyTheme('#dc2626','#ea580c','#fca5a5','#7f1d1d','#fff5f5','#1c0e0e')">ğŸ”´ Ø£Ø­Ù…Ø± Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ</button>
            <button class="btn btn-ghost btn-sm" onclick="applyTheme('#1e3a5f','#2563eb','#93c5fd','#0f172a','#f8faff','#0f172a')">ğŸŒŠ Ù†ÙŠÙ„ÙŠ ÙƒÙ„Ø§Ø³ÙŠÙƒ</button>
            <button class="btn btn-ghost btn-sm" onclick="applyTheme('#be185d','#9333ea','#f9a8d4','#500724','#fdf2f8','#1f0010')">ğŸŒ¸ ÙˆØ±Ø¯ÙŠ Ø¨Ù†ÙØ³Ø¬ÙŠ</button>
            <button class="btn btn-ghost btn-sm" onclick="applyTheme('#92400e','#d97706','#fde68a','#1c1003','#fffbf0','#1c1003')">ğŸ† Ø°Ù‡Ø¨ÙŠ Ø¯Ø§ÙƒÙ†</button>
          </div>
        </div>
      </div>
    </div>

    <!-- â•â• HERO â•â• -->
    <div class="page" id="pg-hero">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ–¼ï¸ Ù‚Ø³Ù… Ø§Ù„Ù‡ÙŠØ±Ùˆ</div><button class="btn btn-pri btn-md" onclick="saveSection('hero')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="ss-ttl">Ø§Ù„Ù†ØµÙˆØµ</div>
          <div class="fg"><label class="fl">Ø§Ù„ÙˆØ³Ù… Ø§Ù„ØµØºÙŠØ± (Tag)</label><input type="text" class="fi" id="h-tag" placeholder="âœ¨ Ù…Ø¬Ù…ÙˆØ¹Ø© 2025"></div>
          <div class="frow"><div class="fg no-mb"><label class="fl">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† (Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø£ÙˆÙ„)</label><input type="text" class="fi" id="h-l1" placeholder="ØªØ³ÙˆÙ‘Ù‚ Ø£ÙØ¶Ù„"></div><div class="fg no-mb"><label class="fl">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ù„ÙˆÙ‘Ù† (Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ)</label><input type="text" class="fi" id="h-l2" placeholder="Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©"></div></div>
          <div class="fg" style="margin-top:.9rem;"><label class="fl">Ø§Ù„ÙˆØµÙ</label><textarea class="fi" id="h-desc"></textarea></div>
          <div class="frow"><div class="fg no-mb"><label class="fl">Ù†Øµ Ø§Ù„Ø²Ø± Ø§Ù„Ø£ÙˆÙ„</label><input type="text" class="fi" id="h-btn1"></div><div class="fg no-mb"><label class="fl">Ù†Øµ Ø§Ù„Ø²Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ</label><input type="text" class="fi" id="h-btn2"></div></div>
          <div class="fg" style="margin-top:.9rem;"><label class="fl">Ø§Ù„Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ø®Ù„ÙÙŠ (Ø§Ù„Ø¯ÙŠÙƒÙˆØ±)</label><input type="text" class="fi" id="h-deco" maxlength="4" style="width:100px;"></div>
          <div class="ss-ttl" style="margin-top:1.2rem;">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø«Ù„Ø§Ø«</div>
          <div class="frow tri"><div class="fg no-mb"><label class="fl">Ø±Ù‚Ù… 1</label><input type="text" class="fi" id="h-s1v" placeholder="+500"></div><div class="fg no-mb"><label class="fl">ØªØ³Ù…ÙŠØ© 1</label><input type="text" class="fi" id="h-s1l" placeholder="Ø¹Ù…ÙŠÙ„ Ø³Ø¹ÙŠØ¯"></div></div>
          <div class="frow tri" style="margin-top:.5rem;"><div class="fg no-mb"><label class="fl">Ø±Ù‚Ù… 2</label><input type="text" class="fi" id="h-s2v"></div><div class="fg no-mb"><label class="fl">ØªØ³Ù…ÙŠØ© 2</label><input type="text" class="fi" id="h-s2l"></div></div>
          <div class="frow tri" style="margin-top:.5rem;"><div class="fg no-mb"><label class="fl">Ø±Ù‚Ù… 3</label><input type="text" class="fi" id="h-s3v"></div><div class="fg no-mb"><label class="fl">ØªØ³Ù…ÙŠØ© 3</label><input type="text" class="fi" id="h-s3l"></div></div>
        </div>
      </div>
    </div>

    <!-- â•â• ANNOUNCE â•â• -->
    <div class="page" id="pg-announce">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ“¢ Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</div><button class="btn btn-pri btn-md" onclick="saveSection('announce')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="set-row"><div><div class="set-lbl">ØªÙØ¹ÙŠÙ„ Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</div></div><label class="switch"><input type="checkbox" id="an-on"><span class="slider"></span></label></div>
          <div class="fg" style="margin-top:1rem;"><label class="fl">Ù†ØµÙˆØµ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (ÙƒÙ„ Ø³Ø·Ø± Ø¥Ø¹Ù„Ø§Ù† Ù…Ù†ÙØµÙ„)</label><textarea class="fi" id="an-items" rows="6" placeholder="ğŸ‰ Ø¥Ø¹Ù„Ø§Ù† Ø£ÙˆÙ„&#10;âœ… Ø¥Ø¹Ù„Ø§Ù† Ø«Ø§Ù†ÙŠ&#10;ğŸš€ Ø¥Ø¹Ù„Ø§Ù† Ø«Ø§Ù„Ø«"></textarea></div>
          <div class="fg"><label class="fl">Ø³Ø±Ø¹Ø© Ø§Ù„ØªÙ…Ø±ÙŠØ± (Ø«Ø§Ù†ÙŠØ© â€” Ø±Ù‚Ù… Ø£ÙƒØ¨Ø± = Ø£Ø¨Ø·Ø£)</label><input type="number" class="fi" id="an-speed" style="width:120px;" min="10" max="60"></div>
        </div>
      </div>
    </div>

    <!-- â•â• TRUST â•â• -->
    <div class="page" id="pg-trust">
      <div class="card"><div class="card-hd"><div class="card-ttl">âœ… Ø´Ø±ÙŠØ· Ø§Ù„Ø«Ù‚Ø© (4 Ø¹Ù†Ø§ØµØ±)</div><button class="btn btn-pri btn-md" onclick="saveSection('trust')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body" id="trust-builder"></div>
      </div>
    </div>

    <!-- â•â• CATEGORIES â•â• -->
    <div class="page" id="pg-categories">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ—‚ï¸ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</div><button class="btn btn-pri btn-md" onclick="saveSection('cats')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body" id="cats-builder"></div>
      </div>
    </div>

    <!-- â•â• PROMO â•â• -->
    <div class="page" id="pg-promo">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠ</div><button class="btn btn-pri btn-md" onclick="saveSection('promo')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="set-row"><div><div class="set-lbl">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠ</div></div><label class="switch"><input type="checkbox" id="pr-on"><span class="slider"></span></label></div>
          <div class="frow" style="margin-top:1rem;"><div class="fg no-mb"><label class="fl">Ø§Ù„ÙˆØ³Ù…</label><input type="text" class="fi" id="pr-tag" placeholder="âš¡ Ø¹Ø±Ø¶ Ù…Ø­Ø¯ÙˆØ¯"></div><div class="fg no-mb"><label class="fl">Ù†Øµ Ø§Ù„Ø²Ø±</label><input type="text" class="fi" id="pr-btn" placeholder="Ø§Ø³ØªÙØ¯ Ù…Ù† Ø§Ù„Ø¹Ø±Ø¶"></div></div>
          <div class="fg" style="margin-top:.9rem;"><label class="fl">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label><input type="text" class="fi" id="pr-ttl"></div>
          <div class="fg"><label class="fl">Ø§Ù„ÙˆØµÙ</label><input type="text" class="fi" id="pr-desc"></div>
          <div class="frow"><div class="fg no-mb"><label class="fl">Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø°ÙŠ ÙŠÙÙÙ„ØªØ± Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·</label><input type="text" class="fi" id="pr-cat" placeholder="accessories"></div><div class="fg no-mb"><label class="fl">Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¨Ø§Ù†Ø± (Ù„ÙˆÙ†Ø§Ù† Ù…ÙØµÙˆÙ„Ø§Ù† Ø¨ÙØ§ØµÙ„Ø©)</label><input type="text" class="fi" id="pr-bg" placeholder="#0d1035,#7c3aed"></div></div>
        </div>
      </div>
    </div>

    <!-- â•â• SOCIAL â•â• -->
    <div class="page" id="pg-social">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸŒ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</div><button class="btn btn-pri btn-md" onclick="saveSection('social')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body" id="social-builder"></div>
      </div>
    </div>

    <!-- â•â• MOBILE NAV â•â• -->
    <div class="page" id="pg-mobilenav">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ“± Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ© (Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„)</div><button class="btn btn-pri btn-md" onclick="saveSection('mobileNav')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <p style="font-size:.82rem;color:var(--gr);margin-bottom:1rem;">ÙŠØ¸Ù‡Ø± Ù‡Ø°Ø§ Ø§Ù„Ø´Ø±ÙŠØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¬ÙˆØ§Ù„ ÙÙ‚Ø·. Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©: <code>home</code> <code>cart</code> <code>login</code> <code>offers</code> <code>whatsapp</code> <code>dashboard</code></p>
          <div id="mn-builder"></div>
        </div>
      </div>
    </div>

    <!-- â•â• NAV LINKS â•â• -->
    <div class="page" id="pg-navlinks">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¹Ù„ÙˆÙŠ</div><button class="btn btn-pri btn-md" onclick="saveSection('nav')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div id="nav-builder"></div>
          <button class="btn btn-ghost btn-sm" style="margin-top:.7rem;" onclick="addNavItem()">+ Ø¥Ø¶Ø§ÙØ© Ø±Ø§Ø¨Ø·</button>
        </div>
      </div>
    </div>

    <!-- â•â• FOOTER â•â• -->
    <div class="page" id="pg-footer">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ“„ Ø§Ù„ÙÙˆØªØ±</div><button class="btn btn-pri btn-md" onclick="saveSection('footer')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="ss-ttl">Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£ÙˆÙ„ â€” Ø§Ù„Ø´Ø¹Ø§Ø± ÙˆØ§Ù„ÙˆØµÙ</div>
          <div class="fg"><label class="fl">ÙˆØµÙ Ø§Ù„Ù…ØªØ¬Ø±</label><textarea class="fi" id="f-desc" rows="2"></textarea></div>
          <div class="fg"><label class="fl">Ù†Øµ Ø§Ù„Ø­Ù‚ÙˆÙ‚ (Copyright)</label><input type="text" class="fi" id="f-copy"></div>
          <div class="fg"><label class="fl">Ø´Ø§Ø±Ø§Øª Ø§Ù„Ø¯ÙØ¹ (Ù…ÙØµÙˆÙ„Ø© Ø¨ÙØ§ØµÙ„Ø©)</label><input type="text" class="fi" id="f-pay" placeholder="Visa,Mada,Apple Pay,STC Pay"></div>
          <div class="ss-ttl" style="margin-top:1.2rem;">Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø«Ø§Ù†ÙŠ</div>
          <div class="fg no-mb"><label class="fl">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù…ÙˆØ¯</label><input type="text" class="fi" id="f-c1t"></div>
          <div class="fg"><label class="fl">Ø§Ù„Ø±ÙˆØ§Ø¨Ø· (ÙƒÙ„ Ø³Ø·Ø±: Ø§Ù„Ù†Øµ | Ø§Ù„Ø±Ø§Ø¨Ø·)</label><textarea class="fi" id="f-c1" rows="4" placeholder="Ù…Ù† Ù†Ø­Ù† | #&#10;ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ | #"></textarea></div>
          <div class="ss-ttl" style="margin-top:1.2rem;">Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø«Ø§Ù„Ø«</div>
          <div class="fg no-mb"><label class="fl">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù…ÙˆØ¯</label><input type="text" class="fi" id="f-c2t"></div>
          <div class="fg"><label class="fl">Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</label><textarea class="fi" id="f-c2" rows="4"></textarea></div>
          <div class="ss-ttl" style="margin-top:1.2rem;">Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø±Ø§Ø¨Ø¹</div>
          <div class="fg no-mb"><label class="fl">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù…ÙˆØ¯</label><input type="text" class="fi" id="f-c3t"></div>
          <div class="fg"><label class="fl">Ø§Ù„Ø±ÙˆØ§Ø¨Ø·</label><textarea class="fi" id="f-c3" rows="4"></textarea></div>
        </div>
      </div>
    </div>

    <!-- â•â• REVIEWS â•â• -->
    <div class="page" id="pg-reviews">
      <div class="card"><div class="card-hd"><div class="card-ttl">â­ Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div><button class="btn btn-pri btn-md" onclick="saveSection('reviews')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body" id="rev-builder"></div>
      </div>
    </div>

    <!-- â•â• STORE SETTINGS â•â• -->
    <div class="page" id="pg-store-settings">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸª Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±</div><button class="btn btn-pri btn-md" onclick="saveSection('store')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="frow"><div class="fg no-mb"><label class="fl">Ø§Ù„Ø¹Ù…Ù„Ø©</label><select class="fi" id="ss-cur"><option>Ø±.Ø³</option><option>Ø¯.Ø¥</option><option>$</option><option>â‚¬</option><option>Ø¬.Ù…</option></select></div><div class="fg no-mb"><label class="fl">Ø±Ø³ÙˆÙ… Ø§Ù„Ø´Ø­Ù† (Ø±.Ø³)</label><input type="number" class="fi" id="ss-ship"></div></div>
          <div class="frow" style="margin-top:.5rem;"><div class="fg no-mb"><label class="fl">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„Ø´Ø­Ù† Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ (Ø±.Ø³)</label><input type="number" class="fi" id="ss-free"></div></div>
          <div class="set-row" style="margin-top:.5rem;"><div><div class="set-lbl">Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…</div></div><label class="switch"><input type="checkbox" id="ss-cod"><span class="slider"></span></label></div>
        </div>
      </div>
    </div>

    <!-- â•â• DELIVERY â•â• -->
    <div class="page" id="pg-delivery">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØªØ³Ù„ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯</div><button class="btn btn-pri btn-md" onclick="saveSection('delivery')">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="fg"><label class="fl">Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ù…ØªØ¬Ø± (Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª)</label><input type="tel" class="fi" id="d-wa" placeholder="966500000000"></div>
          <div class="set-row"><div><div class="set-lbl">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ø¹Ù…ÙŠÙ„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</div></div><label class="switch"><input type="checkbox" id="d-sc"><span class="slider"></span></label></div>
          <div class="set-row"><div><div class="set-lbl">Ø¥Ø´Ø¹Ø§Ø± ØµØ§Ø­Ø¨ Ø§Ù„Ù…ØªØ¬Ø± Ø¨ÙƒÙ„ Ø·Ù„Ø¨</div></div><label class="switch"><input type="checkbox" id="d-so"><span class="slider"></span></label></div>
          <div class="fg" style="margin-top:1rem;"><label class="fl">Ù‚Ø§Ù„Ø¨ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„Ø¹Ù…ÙŠÙ„</label><textarea class="fi" id="d-msg" rows="7"></textarea><p class="fhint">Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª: {store} {order} {product} {codeBlock}</p></div>
        </div>
      </div>
    </div>

    <!-- â•â• ACCOUNT â•â• -->
    <div class="page" id="pg-account">
      <div class="card"><div class="card-hd"><div class="card-ttl">ğŸ”’ Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØ§Ù„Ø£Ù…Ø§Ù†</div><button class="btn btn-pri btn-md" onclick="saveAccount()">ğŸ’¾ Ø­ÙØ¸</button></div>
        <div class="card-body">
          <div class="fg"><label class="fl">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</label><input type="text" class="fi" id="acc-user" value="aabbuuooamad@gmail.com"></div>
          <div class="fg"><label class="fl">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©</label><input type="password" class="fi" id="acc-pass" placeholder="Ø§ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºØ§Ù‹ Ù„Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„ÙŠØ©"></div>
          <div class="fg"><label class="fl">ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><input type="password" class="fi" id="acc-pass2"></div>
        </div>
      </div>
    </div>

  </div><!-- /content -->
</div><!-- /main -->
</div><!-- /app -->

<!-- PRODUCT MODAL -->
<div class="modal-ov" id="prodModal">
  <div class="modal lg">
    <div class="modal-hd"><div class="modal-ttl" id="prodModalTtl">Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</div><button class="modal-cls" onclick="closeModal('prodModal')">âœ•</button></div>
    <div class="modal-body">
      <input type="hidden" id="pm-id">
      <div class="tabs"><button class="tab-btn act" onclick="switchProdTab('info',this)">ğŸ“‹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</button><button class="tab-btn" onclick="switchProdTab('codes',this)">ğŸ”‘ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</button><button class="tab-btn" onclick="switchProdTab('display',this)">ğŸ¨ Ø§Ù„Ø¹Ø±Ø¶</button></div>
      <div id="pm-info">
        <div class="frow"><div class="fg"><label class="fl">Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ *</label><input type="text" class="fi" id="pm-name"></div><div class="fg"><label class="fl">Ø§Ù„ÙØ¦Ø©</label><select class="fi" id="pm-cat"><option value="electronics">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option><option value="fashion">Ø£Ø²ÙŠØ§Ø¡</option><option value="accessories">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±</option><option value="home">Ù…Ù†Ø²Ù„</option></select></div></div>
        <div class="frow tri"><div class="fg"><label class="fl">Ø§Ù„Ø³Ø¹Ø± *</label><input type="number" class="fi" id="pm-price"></div><div class="fg"><label class="fl">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ…</label><input type="number" class="fi" id="pm-old"></div><div class="fg"><label class="fl">Ø§Ù„ØªÙ‚ÙŠÙŠÙ…</label><input type="number" class="fi" id="pm-rating" min="1" max="5" step=".5"></div></div>
        <div class="frow"><div class="fg"><label class="fl">Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø§Ù„Ù…Ù†ØªØ¬</label><input type="text" class="fi" id="pm-emoji" maxlength="4"></div><div class="fg"><label class="fl">Ø¹Ø¯Ø¯ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…Ø§Øª</label><input type="number" class="fi" id="pm-rc"></div></div>
        <div class="fg"><label class="fl">Ø§Ù„ÙˆØµÙ *</label><textarea class="fi" id="pm-desc"></textarea></div>
      </div>
      <div id="pm-codes" style="display:none;">
        <div class="fg"><label class="fl">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ù‚Ù…ÙŠ</label><select class="fi" id="pm-ctype" onchange="toggleCType()"><option value="none">Ù…Ù†ØªØ¬ Ø¹Ø§Ø¯ÙŠ (Ø¨Ø¯ÙˆÙ† ÙƒÙˆØ¯)</option><option value="code">Ø£ÙƒÙˆØ§Ø¯ Ù†ØµÙŠØ©</option><option value="account">Ø­Ø³Ø§Ø¨Ø§Øª (ÙŠÙˆØ²Ø± + Ø¨Ø§Ø³ÙˆØ±Ø¯)</option></select></div>
        <div id="pm-code-sec" style="display:none;">
          <div class="fg"><label class="fl">Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ø¶Ø§ÙØ©</label><div class="codes-box" id="pm-codes-list"></div></div>
          <div class="codes-inp-area"><textarea id="pm-new-codes" placeholder="ÙƒÙˆØ¯ ÙˆØ§Ø­Ø¯ Ø£Ùˆ Ø£ÙƒØ«Ø± â€” ÙƒÙ„ ÙƒÙˆØ¯ ÙÙŠ Ø³Ø·Ø± Ù…Ù†ÙØµÙ„"></textarea><button class="btn btn-pri btn-sm" onclick="addCodes()">Ø¥Ø¶Ø§ÙØ©</button></div>
          <p class="fhint">ÙƒÙ„ ÙƒÙˆØ¯ ÙŠÙØ³ØªØ®Ø¯Ù… Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø«Ù… ÙŠÙØ­Ø°Ù ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
        </div>
        <div id="pm-acc-sec" style="display:none;">
          <div class="fg"><label class="fl">Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø¶Ø§ÙØ©</label><div class="codes-box" id="pm-accs-list"></div></div>
          <div class="frow"><div class="fg no-mb"><label class="fl">Ø§Ù„Ø¨Ø±ÙŠØ¯ / Ø§Ù„ÙŠÙˆØ²Ø±</label><input type="text" class="fi" id="pm-au"></div><div class="fg no-mb"><label class="fl">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label><input type="text" class="fi" id="pm-ap"></div></div>
          <div class="fg" style="margin-top:.7rem;"><label class="fl">Ù…Ù„Ø§Ø­Ø¸Ø©</label><input type="text" class="fi" id="pm-an" placeholder="Ù…Ø«Ø§Ù„: Ø±ÙŠØ¬Ù† SA"></div>
          <button class="btn btn-pri btn-sm" style="margin-top:.3rem;" onclick="addAccount()">+ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø³Ø§Ø¨</button>
        </div>
        <div id="pm-nocode-msg" style="text-align:center;padding:2rem;color:var(--gr);"><div style="font-size:2rem;">ğŸ“¦</div>Ù…Ù†ØªØ¬ Ø¹Ø§Ø¯ÙŠ â€” Ø¨Ø¯ÙˆÙ† ÙƒÙˆØ¯ Ø±Ù‚Ù…ÙŠ</div>
      </div>
      <div id="pm-display" style="display:none;">
        <div class="frow"><div class="fg"><label class="fl">Ø§Ù„Ø´Ø§Ø±Ø©</label><select class="fi" id="pm-badge"><option value="">Ø¨Ø¯ÙˆÙ†</option><option value="new">ğŸ†• Ø¬Ø¯ÙŠØ¯</option><option value="sale">ğŸ·ï¸ ØªØ®ÙÙŠØ¶</option><option value="hot">ğŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø¨ÙŠØ¹Ø§Ù‹</option></select></div><div class="fg"><label class="fl">Ø§Ù„ØªØ±ØªÙŠØ¨</label><input type="number" class="fi" id="pm-order" value="0"></div></div>
        <div class="set-row"><div><div class="set-lbl">Ù…Ù†ØªØ¬ Ù…Ù…ÙŠØ² (ÙŠØ¸Ù‡Ø± ÙÙŠ Ø£Ø¨Ø±Ø² Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª)</div></div><label class="switch"><input type="checkbox" id="pm-feat"><span class="slider"></span></label></div>
        <div class="set-row"><div><div class="set-lbl">Ù†Ø´Ø· (Ø¸Ø§Ù‡Ø± ÙÙŠ Ø§Ù„Ù…ØªØ¬Ø±)</div></div><label class="switch"><input type="checkbox" id="pm-active" checked><span class="slider"></span></label></div>
      </div>
    </div>
    <div class="modal-foot"><button class="btn btn-ghost btn-md" onclick="closeModal('prodModal')">Ø¥Ù„ØºØ§Ø¡</button><button class="btn btn-pri btn-md" onclick="saveProd()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬</button></div>
  </div>
</div>

<!-- BULK MODAL -->
<div class="modal-ov" id="bulkModal">
  <div class="modal"><div class="modal-hd"><div class="modal-ttl">ğŸ“‹ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ø¨Ø§Ù„Ø¬Ù…Ù„Ø©</div><button class="modal-cls" onclick="closeModal('bulkModal')">âœ•</button></div>
    <div class="modal-body"><div class="fg"><label class="fl">Ø§Ù„Ù…Ù†ØªØ¬</label><select class="fi" id="bulk-prod"></select></div><div class="fg"><label class="fl">Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</label><textarea class="fi" id="bulk-codes" rows="8" placeholder="CODE-001&#10;CODE-002"></textarea></div></div>
    <div class="modal-foot"><button class="btn btn-ghost btn-md" onclick="closeModal('bulkModal')">Ø¥Ù„ØºØ§Ø¡</button><button class="btn btn-pri btn-md" onclick="importBulk()">Ø§Ø³ØªÙŠØ±Ø§Ø¯</button></div>
  </div>
</div>

<!-- NOTIF -->
<div class="notif" id="notif"></div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ğŸ”¥ FIREBASE CONFIG & INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const FIREBASE_CONFIG = {
  apiKey:            "AIzaSyAMpqsqJtZ5OIDDPyn64VUUZssEkaVzy5s",
  authDomain:        "my-store-6a072.firebaseapp.com",
  projectId:         "my-store-6a072",
  storageBucket:     "my-store-6a072.firebasestorage.app",
  messagingSenderId: "637762823797",
  appId:             "1:637762823797:web:e01355f7d37c5080f07a3c"
};
firebase.initializeApp(FIREBASE_CONFIG);
const fbDb = firebase.firestore();

// â”€â”€ Ù…Ø¤Ø´Ø± ØªØ­Ù…ÙŠÙ„ Firebase â”€â”€
function fbLoading(on){
  let el=document.getElementById('fb-loading');
  if(!el){el=document.createElement('div');el.id='fb-loading';el.style.cssText='position:fixed;top:12px;left:50%;transform:translateX(-50%);background:#0d1035;color:#a78bfa;font-family:Cairo,sans-serif;font-size:.8rem;font-weight:700;padding:.4rem 1.1rem;border-radius:50px;z-index:9999;display:none;box-shadow:0 4px 20px rgba(0,0,0,.3);';el.textContent='ğŸ”¥ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ù…Ø¹ Firebase...';document.body.appendChild(el);}
  el.style.display=on?'block':'none';
}

// â”€â”€ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† Firestore â”€â”€
async function fbLoadConfig(){
  try{
    fbLoading(true);
    const doc=await fbDb.collection('storeSettings').doc('config').get();
    if(doc.exists){
      const data=doc.data();
      const out=JSON.parse(JSON.stringify(DEF));
      for(const k in data){if(data[k]!==null&&typeof data[k]==='object'&&!Array.isArray(data[k]))out[k]=Object.assign({},DEF[k]||{},data[k]);else out[k]=data[k];}
      try{localStorage.setItem('storeConfig',JSON.stringify(out));}catch(e){}
      return out;
    }
  }catch(e){console.warn('fbLoadConfig:',e);}
  finally{fbLoading(false);}
  return null;
}

// â”€â”€ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ Firestore â”€â”€
async function fbSaveConfig(cfg){
  try{await fbDb.collection('storeSettings').doc('config').set(cfg);}
  catch(e){console.warn('fbSaveConfig:',e);}
}

// â”€â”€ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† Firestore â”€â”€
async function fbLoadProducts(){
  try{
    const doc=await fbDb.collection('storeData').doc('products').get();
    if(doc.exists&&doc.data().list){
      const list=doc.data().list;
      try{localStorage.setItem('storeProducts',JSON.stringify(list));}catch(e){}
      return list;
    }
  }catch(e){console.warn('fbLoadProducts:',e);}
  return null;
}

// â”€â”€ Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Firestore â”€â”€
async function fbSaveProducts(prods){
  try{await fbDb.collection('storeData').doc('products').set({list:prods,updatedAt:firebase.firestore.FieldValue.serverTimestamp()});}
  catch(e){console.warn('fbSaveProducts:',e);}
}

// â”€â”€ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ù…Ù† Firestore â”€â”€
async function fbLoadOrders(){
  try{
    const snap=await fbDb.collection('orders').orderBy('savedAt','desc').limit(200).get();
    return snap.docs.map(d=>d.data());
  }catch(e){
    // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† index Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ Ø¨Ø¹Ø¯ØŒ Ù†Ù‚Ø±Ø£ Ø¨Ø¯ÙˆÙ† ØªØ±ØªÙŠØ¨
    try{const snap=await fbDb.collection('orders').limit(200).get();return snap.docs.map(d=>d.data());}catch(e2){return[];}
  }
}

// â”€â”€ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ Ù…Ù† Firestore â”€â”€
async function fbLoadCustomers(){
  try{
    const snap=await fbDb.collection('customers').limit(500).get();
    return snap.docs.map(d=>d.data());
  }catch(e){return[];}
}

// â”€â”€ Ù…Ø³ØªÙ…Ø¹ Ù„Ø­Ø¸ÙŠ â€” Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆØ§Ù„Ø·Ù„Ø¨Ø§Øª â”€â”€
let _unsubs=[];
function startRealtimeListeners(){
  // Ù…Ø³ØªÙ…Ø¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
  const u1=fbDb.collection('storeData').doc('products').onSnapshot(doc=>{
    if(doc.exists&&doc.data().list){
      const newList=doc.data().list;
      // ØªØ­Ø¯ÙŠØ« ÙÙ‚Ø· Ø¥Ø°Ø§ ØªØºÙŠÙ‘Ø± Ø§Ù„ÙƒÙˆÙ†ØªÙ†Øª
      if(JSON.stringify(newList)!==JSON.stringify(products)){
        products=newList;
        try{localStorage.setItem('storeProducts',JSON.stringify(products));}catch(e){}
        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¯Ø§Ø´ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙØªÙˆØ­Ø©
        const actPage=document.querySelector('.page.act');
        if(actPage){
          const pid=actPage.id.replace('pg-','');
          if(pid==='products')renderProdsTable();
          if(pid==='codes')renderCodesManager();
          if(pid==='dash')refreshDash();
        }
      }
    }
  },e=>console.warn('products listener:',e));

  // Ù…Ø³ØªÙ…Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  const u2=fbDb.collection('orders').limit(200).onSnapshot(snap=>{
    orders=snap.docs.map(d=>d.data());
    orders.sort((a,b)=>(b.savedAt?.seconds||0)-(a.savedAt?.seconds||0));
    const actPage=document.querySelector('.page.act');
    if(actPage){
      const pid=actPage.id.replace('pg-','');
      if(pid==='orders')renderOrdersTable();
      if(pid==='dash')refreshDash();
    }
  },e=>console.warn('orders listener:',e));

  _unsubs=[u1,u2];
}
function stopRealtimeListeners(){_unsubs.forEach(u=>u&&u());_unsubs=[];}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CREDENTIALS (changeable)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let CREDS = { user:'aabbuuooamad@gmail.com', pass:'Aa121314@' };
try { const c=localStorage.getItem('dashCreds'); if(c) CREDS=JSON.parse(c); } catch(e) {}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DEFAULT CONFIG (same as store)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const DEF = {
  meta:{ name:'Ù…ØªØ¬Ø±ÙŠ', logoLetter:'Ù…', logoText:'Ù…ØªØ¬Ø±ÙŠ', tagline:'ØªØ³ÙˆÙ‚ Ø¨Ø°ÙˆÙ‚', logoImg:'' },
  colors:{ primary:'#7c3aed', secondary:'#2563eb', navy:'#0d1035', navy2:'#141847', accent:'#a78bfa', bg:'#f8f7ff', footerBg:'#0d1035' },
  hero:{ tag:'âœ¨ Ù…Ø¬Ù…ÙˆØ¹Ø© 2025', l1:'ØªØ³ÙˆÙ‘Ù‚ Ø£ÙØ¶Ù„', l2:'Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©', desc:'Ø§ÙƒØªØ´Ù ØªØ´ÙƒÙŠÙ„Ø© Ø­ØµØ±ÙŠØ© Ù…Ù† Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ© Ù…Ø¹ ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ø¨Ø§Ø¨ Ù…Ù†Ø²Ù„Ùƒ', btn1:'ØªØ³ÙˆÙ‚ Ø§Ù„Ø¢Ù†', btn2:'Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©', deco:'ğŸ›ï¸', s1v:'+500', s1l:'Ø¹Ù…ÙŠÙ„ Ø³Ø¹ÙŠØ¯', s2v:'+80', s2l:'Ù…Ù†ØªØ¬', s3v:'24h', s3l:'ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹' },
  announce:{ on:true, speed:28, items:['ğŸ‰ Ø¹Ø±Ø¶ Ù…Ø¤Ù‚Øª: Ø§Ø´ØªØ±Ù Ù…Ù†ØªØ¬ÙŠÙ† ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠ','âœ… Ø¯ÙØ¹ Ø¢Ù…Ù† Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©','ğŸš€ ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ø¬Ù…ÙŠØ¹ Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ù…Ù…Ù„ÙƒØ©','ğŸ’œ Ø£ÙƒØ«Ø± Ù…Ù† 500 Ø¹Ù…ÙŠÙ„ Ø±Ø§Ø¶Ù'] },
  trust:[{icon:'ğŸ”’',title:'Ø¯ÙØ¹ Ø¢Ù…Ù†',desc:'ØªØ´ÙÙŠØ± ÙƒØ§Ù…Ù„'},{icon:'âš¡',title:'ØªØ³Ù„ÙŠÙ… ÙÙˆØ±ÙŠ',desc:'Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ Ù…Ø¨Ø§Ø´Ø±Ø©'},{icon:'ğŸšš',title:'ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹',desc:'24-48 Ø³Ø§Ø¹Ø©'},{icon:'ğŸ§',title:'Ø¯Ø¹Ù… 24/7',desc:'Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ'}],
  cats:[{label:'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',count:'3 Ù…Ù†ØªØ¬Ø§Øª',icon:'ğŸ“±',color:'#312e81,#1e3a8a',key:'electronics'},{label:'Ø£Ø²ÙŠØ§Ø¡',count:'2 Ù…Ù†ØªØ¬Ø§Øª',icon:'ğŸ‘œ',color:'#4c1d95,#5b21b6',key:'fashion'},{label:'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±',count:'2 Ù…Ù†ØªØ¬Ø§Øª',icon:'ğŸ’',color:'#1e40af,#1d4ed8',key:'accessories'},{label:'Ø§Ù„Ù…Ù†Ø²Ù„',count:'1 Ù…Ù†ØªØ¬',icon:'ğŸ¡',color:'#3730a3,#4338ca',key:'home'}],
  promo:{ on:true, tag:'âš¡ Ø¹Ø±Ø¶ Ù…Ø­Ø¯ÙˆØ¯', title:'Ø§Ø´ØªØ±Ù 2 ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ 1 Ù…Ø¬Ø§Ù†Ø§Ù‹', desc:'Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¥ÙƒØ³Ø³ÙˆØ§Ø±', btn:'Ø§Ø³ØªÙØ¯ Ù…Ù† Ø§Ù„Ø¹Ø±Ø¶', cat:'accessories', bg:'#0d1035,#7c3aed' },
  social:[{id:'whatsapp',label:'ÙˆØ§ØªØ³Ø§Ø¨',icon:'ğŸ’¬',url:'',on:true},{id:'twitter',label:'ØªÙˆÙŠØªØ± X',icon:'ğ•',url:'',on:true},{id:'instagram',label:'Ø¥Ù†Ø³ØªØºØ±Ø§Ù…',icon:'ğŸ“¸',url:'',on:true},{id:'snapchat',label:'Ø³Ù†Ø§Ø¨ Ø´Ø§Øª',icon:'ğŸ‘»',url:'',on:false},{id:'tiktok',label:'ØªÙŠÙƒ ØªÙˆÙƒ',icon:'ğŸµ',url:'',on:false},{id:'youtube',label:'ÙŠÙˆØªÙŠÙˆØ¨',icon:'â–¶ï¸',url:'',on:false}],
  mobileNav:[{icon:'ğŸ ',label:'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',action:'home'},{icon:'ğŸ›’',label:'Ø§Ù„Ø³Ù„Ø©',action:'cart'},{icon:'ğŸ‘¤',label:'Ø­Ø³Ø§Ø¨ÙŠ',action:'login'},{icon:'ğŸ”¥',label:'Ø§Ù„Ø¹Ø±ÙˆØ¶',action:'offers'}],
  nav:[{label:'Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©',url:'#',cat:''},{label:'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',url:'#',cat:'electronics'},{label:'Ø£Ø²ÙŠØ§Ø¡',url:'#',cat:'fashion'},{label:'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±',url:'#',cat:'accessories'},{label:'Ø§Ù„Ù…Ù†Ø²Ù„',url:'#',cat:'home'},{label:'ğŸ”¥ Ø¹Ø±ÙˆØ¶',url:'#',cat:'sale',hl:true}],
  footer:{ desc:'Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ØªØ®ØµØµ ÙŠÙ‚Ø¯Ù… Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø£Ø³Ø¹Ø§Ø± ØªÙ†Ø§ÙØ³ÙŠØ©.', c1t:'Ø±ÙˆØ§Ø¨Ø· Ù…Ù‡Ù…Ø©', c1:[{l:'Ù…Ù† Ù†Ø­Ù†',u:'#'},{l:'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§',u:'#'},{l:'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©',u:'#'},{l:'Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹',u:'#'}], c2t:'Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª', c2:[{l:'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',u:'#'},{l:'Ø£Ø²ÙŠØ§Ø¡',u:'#'},{l:'Ø¥ÙƒØ³Ø³ÙˆØ§Ø±',u:'#'},{l:'Ø§Ù„Ù…Ù†Ø²Ù„',u:'#'}], c3t:'ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§', c3:[{l:'ğŸ“± ÙˆØ§ØªØ³Ø§Ø¨',u:'#'},{l:'ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯',u:'#'},{l:'ğŸ• 9Øµ - 10Ù…',u:'#'}], pay:['Visa','Mada','Apple Pay','STC Pay'], copy:'Â© 2025 Ù…ØªØ¬Ø±ÙŠ â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©' },
  delivery:{ ownerWA:'966500000000', sendCust:true, sendOwner:true, msg:'ğŸ‰ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø·Ù„Ø¨Ùƒ Ù…Ù† {store}!\n\nØ±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: {order}\nØ§Ù„Ù…Ù†ØªØ¬: {product}\n\n{codeBlock}\n\nâš ï¸ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ Ø®Ø§Øµ Ø¨Ùƒ.' },
  store:{ freeShip:300, shipFee:25, currency:'Ø±.Ø³', cod:true },
  reviews:[{name:'Ø£Ø­Ù…Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ',ini:'Ø£',clr:'',date:'Ù…Ù†Ø° 3 Ø£ÙŠØ§Ù…',stars:5,text:'Ù…Ù†ØªØ¬ Ù…Ù…ØªØ§Ø² Ø¬Ø¯Ø§Ù‹! Ø§Ù„ÙƒÙˆØ¯ ÙˆØµÙ„Ù†ÙŠ ÙÙˆØ±Ø§Ù‹.',prod:'Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ© Pro'},{name:'Ø³Ø§Ø±Ø© Ø§Ù„Ù…Ø·ÙŠØ±ÙŠ',ini:'Ø³',clr:'#0ea5e9,#2563eb',date:'Ù…Ù†Ø° Ø£Ø³Ø¨ÙˆØ¹',stars:5,text:'ØªØ¬Ø±Ø¨Ø© Ù…Ù…ØªØ§Ø²Ø©! Ø­Ø³Ø§Ø¨ÙŠ ÙˆØµÙ„Ù†ÙŠ Ù…Ø¨Ø§Ø´Ø±Ø©.',prod:'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Elite'},{name:'Ù…Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ',ini:'Ù…',clr:'#7c3aed,#9333ea',date:'Ù…Ù†Ø° Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ†',stars:4,text:'Ø®Ø¯Ù…Ø© Ø±Ø§Ø¦Ø¹Ø© ÙˆØªØ³Ù„ÙŠÙ… Ø³Ø±ÙŠØ¹.',prod:'Ø¹Ø·Ø± Noir Luxe'}]
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let C = loadConfig();
let products = [];
let orders = [];
let pmTempCodes = [];
let editingProdId = null;
let codesTab = 'all';

function loadConfig() {
  // Ù‚Ø±Ø§Ø¡Ø© Ù…Ù† localStorage ÙƒÙ‚ÙŠÙ…Ø© Ù…Ø¨Ø¯Ø¦ÙŠØ© (Ø³Ø±ÙŠØ¹Ø©)ØŒ Firestore ÙŠØ­Ø¯Ù‘Ø« Ø¨Ø¹Ø¯ Ø§Ù„Ù„ÙˆÙ‚Ù†
  try { const s=localStorage.getItem('storeConfig'); if(s){const p=JSON.parse(s);const o=JSON.parse(JSON.stringify(DEF));for(const k in p){if(p[k]!==null&&typeof p[k]==='object'&&!Array.isArray(p[k]))o[k]=Object.assign({},DEF[k]||{},p[k]);else o[k]=p[k];}return o;} } catch(e) {}
  return JSON.parse(JSON.stringify(DEF));
}
function saveConfig() {
  try{localStorage.setItem('storeConfig',JSON.stringify(C));}catch(e){}
  fbSaveConfig(C); // ğŸ”¥ Firestore
}

function loadProductsLocal() { try{const s=localStorage.getItem('storeProducts');if(s)products=JSON.parse(s);}catch(e){} if(!products.length)products=[{id:1,name:'Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ© Pro',price:249,oldPrice:320,desc:'Ø³Ù…Ø§Ø¹Ø§Øª Ø¨Ù„ÙˆØªÙˆØ« Ø¨Ø¬ÙˆØ¯Ø© ØµÙˆØª Ø§Ø³ØªØ«Ù†Ø§Ø¦ÙŠØ©.',emoji:'ğŸ§',cat:'electronics',badge:'sale',rating:4.8,rCount:124,featured:true,active:true,codeType:'code',codes:[{val:'AUDIO-X71K',used:false},{val:'AUDIO-M89P',used:false}]},{id:2,name:'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Elite',price:599,oldPrice:750,desc:'Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ù…Ø¹ Ù…ØªØ§Ø¨Ø¹Ø© ØµØ­ÙŠØ© Ø´Ø§Ù…Ù„Ø©.',emoji:'âŒš',cat:'electronics',badge:'hot',rating:4.9,rCount:89,featured:true,active:true,codeType:'account',codes:[{user:'elite@watch.com',pass:'Watch@2025',note:'Ø±ÙŠØ¬Ù† SA',used:false}]},{id:3,name:'Ø­Ù‚ÙŠØ¨Ø© Ø¬Ù„Ø¯ ÙØ§Ø®Ø±Ø©',price:380,desc:'Ø­Ù‚ÙŠØ¨Ø© ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¬Ù„Ø¯ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ.',emoji:'ğŸ‘œ',cat:'fashion',badge:'new',rating:4.7,rCount:56,featured:false,active:true,codeType:'none',codes:[]},{id:4,name:'Ø¹Ø·Ø± Noir Luxe',price:320,oldPrice:400,desc:'Ø¹Ø·Ø± ÙØ§Ø®Ø± Ø¨ØªØ±ÙƒÙŠØ¨Ø© Ø´Ø±Ù‚ÙŠØ©.',emoji:'ğŸŒ¹',cat:'accessories',badge:'sale',rating:4.6,rCount:78,featured:true,active:true,codeType:'code',codes:[{val:'NOIR-AA1',used:false},{val:'NOIR-BB2',used:false}]}];}
function saveProducts() {
  try{localStorage.setItem('storeProducts',JSON.stringify(products));}catch(e){}
  fbSaveProducts(products); // ğŸ”¥ Firestore
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  LOGIN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function doLogin() {
  if(document.getElementById('lu').value===CREDS.user&&document.getElementById('lp').value===CREDS.pass){
    document.getElementById('loginPage').style.display='none';
    document.getElementById('app').style.display='flex';

    // ğŸ”¥ ØªØ­Ù…ÙŠÙ„ Ù…Ù† Firestore Ø£ÙˆÙ„Ø§Ù‹
    notif('ğŸ”¥ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...','');
    fbLoading(true);
    try{
      const [fbCfg, fbProds, fbOrds] = await Promise.all([fbLoadConfig(), fbLoadProducts(), fbLoadOrders()]);
      if(fbCfg){ C=fbCfg; }
      if(fbProds&&fbProds.length){ products=fbProds; }
      else { loadProductsLocal(); }
      if(fbOrds.length){ orders=fbOrds; }
    }catch(e){ loadProductsLocal(); }
    fbLoading(false);

    startRealtimeListeners(); // ğŸ”¥ ØªØ­Ø¯ÙŠØ« Ù„Ø­Ø¸ÙŠ
    refreshDash();
    notif('âœ“ ØªÙ… Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† Firebase','ok');
  } else { notif('âŒ Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©','err'); }
}
document.getElementById('lp').addEventListener('keyup',e=>{if(e.key==='Enter')doLogin();});
function doLogout(){stopRealtimeListeners();document.getElementById('app').style.display='none';document.getElementById('loginPage').style.display='flex';}
function saveAccount(){
  const u=document.getElementById('acc-user').value;
  const p=document.getElementById('acc-pass').value;
  const p2=document.getElementById('acc-pass2').value;
  if(p&&p!==p2){notif('ÙƒÙ„Ù…ØªØ§ Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚ØªÙŠÙ†','err');return;}
  CREDS={user:u||CREDS.user,pass:p||CREDS.pass};
  try{localStorage.setItem('dashCreds',JSON.stringify(CREDS));}catch(e){}
  notif('âœ“ ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„','ok');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  NAVIGATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const PAGE_TITLES = {dash:'ğŸ“Š Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©',products:'ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª',codes:'ğŸ”‘ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯',orders:'ğŸ›’ Ø§Ù„Ø·Ù„Ø¨Ø§Øª',customers:'ğŸ‘¥ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡',identity:'ğŸ·ï¸ Ø§Ù„Ù‡ÙˆÙŠØ© ÙˆØ§Ù„Ù„ÙˆÙ‚Ùˆ',colors:'ğŸ¨ Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„Ø«ÙŠÙ…',hero:'ğŸ–¼ï¸ Ø§Ù„Ù‡ÙŠØ±Ùˆ',announce:'ğŸ“¢ Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª',trust:'âœ… Ø´Ø±ÙŠØ· Ø§Ù„Ø«Ù‚Ø©',categories:'ğŸ—‚ï¸ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª',promo:'ğŸ Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„ØªØ±ÙˆÙŠØ¬ÙŠ',social:'ğŸŒ Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„',mobilenav:'ğŸ“± Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ©',navlinks:'ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„',footer:'ğŸ“„ Ø§Ù„ÙÙˆØªØ±',reviews:'â­ Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡','store-settings':'ğŸª Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±',delivery:'ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨ ÙˆØªØ³Ù„ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯',account:'ğŸ”’ Ø§Ù„Ø­Ø³Ø§Ø¨'};
function goto(page) {
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('act'));
  document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('act'));
  document.getElementById('pg-'+page).classList.add('act');
  document.querySelector(`[onclick="goto('${page}')"]`)?.classList.add('act');
  document.getElementById('tbTitle').textContent = PAGE_TITLES[page]||page;
  const renderers={products:renderProdsTable,codes:renderCodesManager,orders:()=>renderOrdersTable(),customers:renderCustomers,identity:loadIdentity,colors:loadColors,hero:loadHero,announce:loadAnnounce,trust:loadTrust,categories:loadCats,promo:loadPromo,social:loadSocial,mobilenav:loadMobileNav,navlinks:loadNavLinks,footer:loadFooter,reviews:loadReviews,'store-settings':loadStoreSettings,delivery:loadDelivery,dash:refreshDash};
  if(renderers[page])renderers[page]();
  closeSB();
}
function toggleSB(){document.getElementById('sidebar').classList.toggle('open');document.getElementById('sbOv').classList.toggle('show');}
function closeSB(){document.getElementById('sidebar').classList.remove('open');document.getElementById('sbOv').classList.remove('show');}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DASHBOARD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function refreshDash() {
  const done=orders.filter(o=>o.status==='done');
  document.getElementById('st-rev').textContent=done.reduce((s,o)=>s+o.total,0).toLocaleString('ar');
  document.getElementById('st-ord').textContent=orders.length;
  document.getElementById('st-cus').textContent=[...new Set(orders.map(o=>o.phone))].length;
  const avail=products.reduce((s,p)=>s+(p.codes?p.codes.filter(c=>!c.used).length:0),0);
  document.getElementById('st-codes').textContent=avail;
  const pending=orders.filter(o=>o.status==='pending').length;
  document.getElementById('nb-orders').textContent=pending;
  const low=products.filter(p=>p.codeType!=='none'&&p.codes.filter(c=>!c.used).length<3);
  document.getElementById('nb-codes').style.display=low.length?'inline':'none';
  document.getElementById('st-codes-w').textContent=low.length?`âš ï¸ ${low.length} ÙŠØ­ØªØ§Ø¬ ØªØ¬Ø¯ÙŠØ¯`:'';
  document.getElementById('d-recent-orders').innerHTML=orders.slice(-4).reverse().map(o=>`<div style="display:flex;align-items:center;gap:.7rem;padding:.6rem;background:#fafafe;border-radius:9px;margin-bottom:.4rem;"><div style="font-size:1.2rem;">ğŸ›ï¸</div><div style="flex:1;"><div style="font-size:.84rem;font-weight:700;">${o.name} Â· ${o.id}</div><div style="font-size:.73rem;color:var(--gr);">${o.products} Â· ${o.date}</div></div><div style="font-size:.9rem;font-weight:800;color:var(--p);">${o.total} Ø±.Ø³</div></div>`).join('')||'<div class="empty"><div class="empty-ic">ğŸ›’</div><div>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</div></div>';
  document.getElementById('d-codes-alert').innerHTML=low.length?low.map(p=>`<div style="display:flex;align-items:center;gap:.7rem;padding:.6rem;background:#fafafe;border-radius:9px;margin-bottom:.4rem;"><div>${p.emoji}</div><div style="flex:1;font-size:.84rem;"><strong>${p.name}</strong><br><span style="color:var(--or);font-size:.73rem;">Ù…ØªØ¨Ù‚Ù: ${p.codes.filter(c=>!c.used).length}</span></div><button class="btn btn-ghost btn-sm" onclick="goto('codes')">Ø¥Ø¶Ø§ÙØ©</button></div>`).join(''):'<div class="empty"><div class="empty-ic">âœ…</div><div style="font-size:.85rem;">ÙƒÙ„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø¨Ù…Ø³ØªÙˆÙ‰ Ø¬ÙŠØ¯</div></div>';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PRODUCTS TABLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderProdsTable() {
  document.getElementById('prods-tbody').innerHTML=products.map(p=>{
    const avail=p.codes?p.codes.filter(c=>!c.used).length:0;
    return `<tr>
      <td><div style="display:flex;align-items:center;gap:.7rem;"><div class="pthm">${p.emoji}</div><div><div style="font-weight:700;font-size:.86rem;">${p.name}</div><div style="font-size:.7rem;color:var(--gr);">ID:${p.id}</div></div></div></td>
      <td>${{electronics:'ğŸ“± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª',fashion:'ğŸ‘œ Ø£Ø²ÙŠØ§Ø¡',accessories:'ğŸ’ Ø¥ÙƒØ³Ø³ÙˆØ§Ø±',home:'ğŸ¡ Ù…Ù†Ø²Ù„'}[p.cat]||p.cat}</td>
      <td><strong style="color:var(--p);">${p.price} Ø±.Ø³</strong>${p.oldPrice?`<div style="font-size:.72rem;color:var(--gr);text-decoration:line-through;">${p.oldPrice}</div>`:''}</td>
      <td><span class="bdg ${p.active?'bdg-gn':'bdg-gr'}">${p.active?'ğŸŸ¢ Ù†Ø´Ø·':'âš« Ù…Ø®ÙÙŠ'}</span></td>
      <td>${p.codeType==='none'?'<span class="bdg bdg-gr">Ø¹Ø§Ø¯ÙŠ</span>':`<span class="bdg ${avail>3?'bdg-gn':avail>0?'bdg-yw':'bdg-re'}">${avail} Ù…ØªØ§Ø­</span>`}</td>
      <td><div style="display:flex;gap:.4rem;"><button class="btn btn-ghost btn-sm" onclick="openProdModal(${p.id})">âœï¸</button><button class="btn btn-dan btn-sm" onclick="delProd(${p.id})">ğŸ—‘ï¸</button></div></td>
    </tr>`;
  }).join('');
}
function delProd(id){if(!confirm('Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ù†ØªØ¬ØŸ'))return;products=products.filter(p=>p.id!==id);saveProducts();renderProdsTable();notif('ØªÙ… Ø§Ù„Ø­Ø°Ù','ok');}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  PRODUCT MODAL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openProdModal(id=null,jumpCodes=false){
  editingProdId=id;pmTempCodes=[];
  const p=id?products.find(x=>x.id===id):null;
  document.getElementById('prodModalTtl').textContent=p?'ØªØ¹Ø¯ÙŠÙ„: '+p.name:'Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯';
  document.getElementById('pm-id').value=id||'';
  document.getElementById('pm-name').value=p?.name||'';
  document.getElementById('pm-cat').value=p?.cat||'electronics';
  document.getElementById('pm-price').value=p?.price||'';
  document.getElementById('pm-old').value=p?.oldPrice||'';
  document.getElementById('pm-rating').value=p?.rating||4.5;
  document.getElementById('pm-emoji').value=p?.emoji||'ğŸ“¦';
  document.getElementById('pm-rc').value=p?.rCount||0;
  document.getElementById('pm-desc').value=p?.desc||'';
  document.getElementById('pm-badge').value=p?.badge||'';
  document.getElementById('pm-order').value=p?.order||0;
  document.getElementById('pm-feat').checked=p?.featured||false;
  document.getElementById('pm-active').checked=p?.active!==false;
  document.getElementById('pm-ctype').value=p?.codeType||'none';
  if(p)pmTempCodes=[...p.codes.map(c=>({...c}))];
  toggleCType();renderPmCodes();
  switchProdTab('info',document.querySelector('#prodModal .tab-btn'));
  if(jumpCodes)switchProdTab('codes',document.querySelectorAll('#prodModal .tab-btn')[1]);
  openModal('prodModal');
}
function switchProdTab(tab,btn){['pm-info','pm-codes','pm-display'].forEach(id=>document.getElementById(id).style.display='none');document.getElementById('pm-'+tab).style.display='block';document.querySelectorAll('#prodModal .tab-btn').forEach(b=>b.classList.remove('act'));btn?.classList.add('act');}
function toggleCType(){const t=document.getElementById('pm-ctype').value;document.getElementById('pm-code-sec').style.display=t==='code'?'block':'none';document.getElementById('pm-acc-sec').style.display=t==='account'?'block':'none';document.getElementById('pm-nocode-msg').style.display=t==='none'?'block':'none';renderPmCodes();}
function renderPmCodes(){const t=document.getElementById('pm-ctype').value;if(t==='code'){document.getElementById('pm-codes-list').innerHTML=pmTempCodes.length?pmTempCodes.map((c,i)=>`<div class="code-item"><span class="ctag">${c.val}</span><span class="${c.used?'cused':'cavail'}">${c.used?'âœ“ Ù…Ø³ØªØ®Ø¯Ù…':'â— Ù…ØªØ§Ø­'}</span></div>`).join(''):'<div style="color:var(--gr);text-align:center;padding:.8rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯</div>';}else if(t==='account'){document.getElementById('pm-accs-list').innerHTML=pmTempCodes.length?pmTempCodes.map(c=>`<div class="code-item"><span class="ctag">${c.user}</span><span style="color:var(--gr);font-size:.72rem;">/ ${c.pass}</span><span class="${c.used?'cused':'cavail'}">${c.used?'âœ“':'â—'}</span></div>`).join(''):'<div style="color:var(--gr);text-align:center;padding:.8rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª</div>';}}
function addCodes(){const raw=document.getElementById('pm-new-codes').value.trim();if(!raw)return;raw.split('\n').map(l=>l.trim()).filter(Boolean).forEach(l=>{if(!pmTempCodes.find(c=>c.val===l))pmTempCodes.push({val:l,used:false});});document.getElementById('pm-new-codes').value='';renderPmCodes();notif('âœ“ ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©','ok');}
function addAccount(){const u=document.getElementById('pm-au').value.trim(),p=document.getElementById('pm-ap').value.trim(),n=document.getElementById('pm-an').value.trim();if(!u||!p){notif('Ø£Ø¯Ø®Ù„ Ø§Ù„ÙŠÙˆØ²Ø± ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±','err');return;}pmTempCodes.push({user:u,pass:p,note:n,used:false});document.getElementById('pm-au').value='';document.getElementById('pm-ap').value='';document.getElementById('pm-an').value='';renderPmCodes();notif('âœ“ ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©','ok');}
function saveProd(){
  const name=document.getElementById('pm-name').value.trim();
  const price=parseFloat(document.getElementById('pm-price').value);
  const desc=document.getElementById('pm-desc').value.trim();
  if(!name||!price||!desc){notif('ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©','err');return;}
  const data={name,price,desc,oldPrice:parseFloat(document.getElementById('pm-old').value)||null,cat:document.getElementById('pm-cat').value,emoji:document.getElementById('pm-emoji').value||'ğŸ“¦',rating:parseFloat(document.getElementById('pm-rating').value)||4.5,rCount:parseInt(document.getElementById('pm-rc').value)||0,badge:document.getElementById('pm-badge').value,order:parseInt(document.getElementById('pm-order').value)||0,featured:document.getElementById('pm-feat').checked,active:document.getElementById('pm-active').checked,codeType:document.getElementById('pm-ctype').value,codes:[...pmTempCodes]};
  if(editingProdId){const idx=products.findIndex(p=>p.id===editingProdId);products[idx]={...products[idx],...data};}else{products.push({...data,id:Date.now()});}
  saveProducts();closeModal('prodModal');renderProdsTable();refreshDash();notif('âœ“ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ù†ØªØ¬','ok');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CODES MANAGER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function switchCodesTab(tab,btn){codesTab=tab;document.querySelectorAll('#pg-codes .tab-btn').forEach(b=>b.classList.remove('act'));btn.classList.add('act');renderCodesManager();}
function renderCodesManager(){
  let prods=products.filter(p=>p.codeType!=='none');
  if(codesTab==='code')prods=prods.filter(p=>p.codeType==='code');
  if(codesTab==='account')prods=prods.filter(p=>p.codeType==='account');
  if(codesTab==='low')prods=prods.filter(p=>p.codes.filter(c=>!c.used).length<3);
  if(!prods.length){document.getElementById('codes-content').innerHTML='<div class="empty"><div class="empty-ic">ğŸ”‘</div><div>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø©</div></div>';return;}
  document.getElementById('codes-content').innerHTML=prods.map(p=>{
    const avail=p.codes.filter(c=>!c.used).length,total=p.codes.length,pct=total?Math.round((total-avail)/total*100):0;
    const codesHtml=p.codeType==='code'?p.codes.map((c,i)=>`<div class="code-item"><span class="ctag">${c.val}</span><div style="display:flex;align-items:center;gap:.5rem;"><span class="${c.used?'cused':'cavail'}">${c.used?'âœ“ Ù…Ø³ØªØ®Ø¯Ù…':'â— Ù…ØªØ§Ø­'}</span>${!c.used?`<button onclick="delCode(${p.id},${i})" style="background:none;border:none;cursor:pointer;color:#ccc;font-size:.8rem;">âœ•</button>`:''}</div></div>`).join('')
      :p.codes.map((c,i)=>`<div class="code-item"><span class="ctag">${c.user}</span><span style="color:var(--gr);font-size:.72rem;">/ ${c.pass}</span>${c.note?`<span style="color:var(--s);font-size:.68rem;">[${c.note}]</span>`:''}<div style="display:flex;align-items:center;gap:.4rem;"><span class="${c.used?'cused':'cavail'}">${c.used?'âœ“':'â—'}</span>${!c.used?`<button onclick="delCode(${p.id},${i})" style="background:none;border:none;cursor:pointer;color:#ccc;font-size:.8rem;">âœ•</button>`:''}</div></div>`).join('');
    return `<div class="card" style="margin-bottom:1rem;">
      <div class="card-hd"><div style="display:flex;align-items:center;gap:.8rem;"><div class="pthm">${p.emoji}</div><div><div style="font-weight:800;">${p.name}</div><div style="font-size:.73rem;color:var(--gr);">${p.codeType==='code'?'ğŸ”‘ Ø£ÙƒÙˆØ§Ø¯':'ğŸ‘¤ Ø­Ø³Ø§Ø¨Ø§Øª'} Â· ${avail} Ù…ØªØ§Ø­ / ${total}</div></div></div><div style="display:flex;gap:.5rem;align-items:center;"><span class="bdg ${avail===0?'bdg-re':avail<3?'bdg-yw':'bdg-gn'}">${avail===0?'âš ï¸ Ù†ÙØ¯Øª':avail<3?'âš ï¸ Ù…Ù†Ø®ÙØ¶':'âœ“ Ù…ØªØ§Ø­'}</span><button class="btn btn-pri btn-sm" onclick="openProdModal(${p.id},true)">+ Ø¥Ø¶Ø§ÙØ©</button></div></div>
      <div class="card-body"><div style="background:#f1f5f9;border-radius:5px;height:5px;margin-bottom:.8rem;overflow:hidden;"><div style="width:${pct}%;height:100%;background:linear-gradient(90deg,var(--p),var(--s));border-radius:5px;"></div></div><div class="codes-box">${codesHtml||'<div style="color:var(--gr);text-align:center;padding:.7rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯</div>'}</div></div>
    </div>`;
  }).join('');
}
function delCode(pid,idx){const p=products.find(x=>x.id===pid);if(p&&!p.codes[idx].used){p.codes.splice(idx,1);saveProducts();renderCodesManager();notif('ØªÙ… Ø§Ù„Ø­Ø°Ù','ok');}}
function openBulkModal(){const s=document.getElementById('bulk-prod');s.innerHTML=products.filter(p=>p.codeType!=='none').map(p=>`<option value="${p.id}">${p.emoji} ${p.name}</option>`).join('');openModal('bulkModal');}
function importBulk(){const pid=parseInt(document.getElementById('bulk-prod').value),raw=document.getElementById('bulk-codes').value.trim();if(!raw){notif('Ø£Ø¯Ø®Ù„ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯','err');return;}const p=products.find(x=>x.id===pid);let added=0;raw.split('\n').map(l=>l.trim()).filter(Boolean).forEach(l=>{if(!p.codes.find(c=>c.val===l)){p.codes.push({val:l,used:false});added++;}});saveProducts();closeModal('bulkModal');document.getElementById('bulk-codes').value='';notif(`âœ“ ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${added} ÙƒÙˆØ¯ Ù„Ù€ ${p.name}`,'ok');renderCodesManager();refreshDash();}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  ORDERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderOrdersTable(filter='all'){
  let ords=filter==='all'?orders:orders.filter(o=>o.status===filter);
  document.getElementById('orders-tbody').innerHTML=ords.map(o=>`<tr><td><strong>${o.id}</strong></td><td><div style="font-weight:700;">${o.name}</div><div style="font-size:.72rem;color:var(--gr);">${o.phone}</div></td><td style="font-size:.82rem;">${o.products}</td><td><strong style="color:var(--p);">${o.total} Ø±.Ø³</strong></td><td>${o.deliveredCode?`<span class="ctag">${o.deliveredCode}</span>`:'<span style="color:var(--gr);font-size:.76rem;">â€”</span>'}</td><td><span class="bdg ${o.status==='done'?'bdg-gn':o.status==='cancelled'?'bdg-re':'bdg-yw'}">${o.status==='done'?'âœ“ Ù…ÙƒØªÙ…Ù„':o.status==='cancelled'?'âœ• Ù…Ù„ØºÙŠ':'â³ Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©'}</span></td><td style="font-size:.76rem;color:var(--gr);">${o.date}</td><td>${o.status==='pending'?`<button class="btn btn-suc btn-sm" onclick="completeOrder('${o.id}')">âœ“ Ø¥ÙƒÙ…Ø§Ù„</button>`:''}</td></tr>`).join('')||'<tr><td colspan="8" class="empty">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª</td></tr>';
}
function filterOrders(v){renderOrdersTable(v);}
function completeOrder(id){const o=orders.find(x=>x.id===id);if(!o)return;o.status='done';renderOrdersTable();refreshDash();notif('âœ“ ØªÙ… Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨','ok');}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CUSTOMERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function renderCustomers(){
  document.getElementById('cus-tbody').innerHTML='<tr><td colspan="5" style="text-align:center;padding:1.5rem;color:var(--gr);">â³ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</td></tr>';
  let customers=[];
  try{customers=await fbLoadCustomers();}catch(e){}
  orders.forEach(o=>{if(o.email&&!customers.find(c=>c.email===o.email)){customers.push({name:o.name||'â€”',email:o.email,joinDate:'',orders:[]});}});
  document.getElementById('cus-count').textContent=customers.length+' Ø¹Ù…ÙŠÙ„';
  document.getElementById('cus-tbody').innerHTML=customers.length?customers.map(x=>`
    <tr>
      <td style="font-weight:700;">${x.name||'â€”'}</td>
      <td style="font-family:monospace;font-size:.8rem;">${x.email||x.phone||'â€”'}</td>
      <td><span class="bdg bdg-bl">${(x.orders||[]).length} Ø·Ù„Ø¨</span></td>
      <td><strong style="color:var(--p);">${(x.orders||[]).reduce((s,o)=>s+(o.total||0),0)} Ø±.Ø³</strong></td>
      <td style="font-size:.75rem;color:var(--gr);">${x.joinDate||'â€”'}</td>
    </tr>`).join(''):'<tr><td colspan="5" class="empty">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù…Ù„Ø§Ø¡ Ø¨Ø¹Ø¯</td></tr>';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CUSTOMIZATION LOADERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function loadIdentity(){document.getElementById('m-name').value=C.meta.name;document.getElementById('m-tagline').value=C.meta.tagline;document.getElementById('m-letter').value=C.meta.logoLetter;document.getElementById('m-logotext').value=C.meta.logoText;document.getElementById('m-logoimg').value=C.meta.logoImg||'';updateLogoPrev();}
function updateLogoPrev(){const img=document.getElementById('m-logoimg').value;const letter=document.getElementById('m-letter').value;const text=document.getElementById('m-logotext').value;const lp=document.getElementById('logo-prev');const lt=document.getElementById('logo-text-prev');lp.style.background=`linear-gradient(135deg,${C.colors.primary},${C.colors.secondary})`;if(img){lp.innerHTML=`<img src="${img}" style="width:100%;height:100%;object-fit:cover;border-radius:12px;">`;}else{lp.textContent=letter||'Ù…';}lt.textContent=text||'Ù…ØªØ¬Ø±ÙŠ';}

function loadColors(){const col=C.colors;document.getElementById('c-primary').value=col.primary;document.getElementById('c-secondary').value=col.secondary;document.getElementById('c-accent').value=col.accent;document.getElementById('c-navy').value=col.navy;document.getElementById('c-bg').value=col.bg;document.getElementById('c-footer').value=col.footerBg||col.navy;previewColors();}
function previewColors(){const p=document.getElementById('c-primary').value,nv=document.getElementById('c-navy').value;document.getElementById('prevBanner').style.background=`linear-gradient(135deg,${nv},${nv}cc)`;document.getElementById('prevBannerBtn').style.color=p;document.getElementById('prevBannerT').textContent=C.hero.l1+' '+C.hero.l2;}
function setClr(id,val,el){document.getElementById(id).value=val;el.closest('.cpresets').querySelectorAll('.cpre').forEach(e=>e.classList.remove('sel'));el.classList.add('sel');previewColors();}
function applyTheme(p,s,a,nv,bg,fb){document.getElementById('c-primary').value=p;document.getElementById('c-secondary').value=s;document.getElementById('c-accent').value=a;document.getElementById('c-navy').value=nv;document.getElementById('c-bg').value=bg;document.getElementById('c-footer').value=fb;previewColors();}

function loadHero(){const h=C.hero;['tag','l1','l2','desc','btn1','btn2','deco','s1v','s1l','s2v','s2l','s3v','s3l'].forEach(k=>document.getElementById('h-'+k).value=h[k]||'');}
function loadAnnounce(){const an=C.announce;document.getElementById('an-on').checked=an.on;document.getElementById('an-items').value=(an.items||[]).join('\n');document.getElementById('an-speed').value=an.speed||28;}
function loadTrust(){document.getElementById('trust-builder').innerHTML=C.trust.map((t,i)=>`<div style="display:flex;align-items:center;gap:.8rem;padding:.7rem;background:#f8f7ff;border:1px solid var(--bd);border-radius:10px;margin-bottom:.6rem;"><div class="ti-ic" style="font-size:1.5rem;">${t.icon}</div><div style="flex:1;display:flex;gap:.6rem;"><input type="text" class="fi" value="${t.icon}" maxlength="4" style="width:70px;" onchange="C.trust[${i}].icon=this.value"><input type="text" class="fi" value="${t.title}" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†" onchange="C.trust[${i}].title=this.value"><input type="text" class="fi" value="${t.desc}" placeholder="Ø§Ù„ÙˆØµÙ" onchange="C.trust[${i}].desc=this.value"></div></div>`).join('');}
function loadCats(){document.getElementById('cats-builder').innerHTML=C.cats.map((c,i)=>`<div style="display:flex;align-items:center;gap:.7rem;padding:.7rem;background:#f8f7ff;border:1px solid var(--bd);border-radius:10px;margin-bottom:.6rem;"><div style="font-size:1.5rem;">${c.icon}</div><div style="flex:1;display:grid;grid-template-columns:1fr 1fr 1fr;gap:.5rem;"><input type="text" class="fi" value="${c.label}" placeholder="Ø§Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙ" onchange="C.cats[${i}].label=this.value"><input type="text" class="fi" value="${c.icon}" maxlength="4" placeholder="Ø£ÙŠÙ‚ÙˆÙ†Ø©" onchange="C.cats[${i}].icon=this.value"><input type="text" class="fi" value="${c.count}" placeholder="Ù…Ø«Ù„: 5 Ù…Ù†ØªØ¬Ø§Øª" onchange="C.cats[${i}].count=this.value"><input type="text" class="fi" value="${c.key}" placeholder="key Ù…Ø«Ù„: electronics" onchange="C.cats[${i}].key=this.value"><input type="text" class="fi" value="${c.color}" placeholder="Ù„ÙˆÙ†1,Ù„ÙˆÙ†2" onchange="C.cats[${i}].color=this.value"></div><button onclick="rmCat(${i})" class="btn btn-dan btn-sm" style="flex-shrink:0;align-self:flex-start;">ğŸ—‘ï¸</button></div>`).join('')+'<button class="btn btn-pri btn-sm" style="margin-top:.8rem;width:100%;" onclick="addCat()">+ Ø¥Ø¶Ø§ÙØ© ØªØµÙ†ÙŠÙ Ø¬Ø¯ÙŠØ¯</button><p class="fhint" style="margin-top:.5rem;">ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙƒÙˆØ§Ø¯ hex Ù…ÙØµÙˆÙ„Ø© Ø¨ÙØ§ØµÙ„Ø©</p>';}
function addCat(){C.cats.push({label:'ØªØµÙ†ÙŠÙ Ø¬Ø¯ÙŠØ¯',icon:'ğŸ›ï¸',count:'0 Ù…Ù†ØªØ¬Ø§Øª',key:'new-cat-'+Date.now(),color:'#1e40af,#2563eb'});loadCats();notif('ØªÙ… Ø¥Ø¶Ø§ÙØ© ØªØµÙ†ÙŠÙ Ø¬Ø¯ÙŠØ¯ â€” Ø¹Ø¯Ù‘Ù„Ù‡ ÙˆØ§Ø¶ØºØ· Ø­ÙØ¸','ok');}
function rmCat(i){if(!confirm('Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„ØªØµÙ†ÙŠÙØŸ'))return;C.cats.splice(i,1);loadCats();notif('ØªÙ… Ø§Ù„Ø­Ø°Ù','ok');}
function loadPromo(){const p=C.promo;document.getElementById('pr-on').checked=p.on;document.getElementById('pr-tag').value=p.tag;document.getElementById('pr-btn').value=p.btn;document.getElementById('pr-ttl').value=p.title;document.getElementById('pr-desc').value=p.desc;document.getElementById('pr-cat').value=p.cat;document.getElementById('pr-bg').value=p.bg;}
function loadSocial(){document.getElementById('social-builder').innerHTML=C.social.map((s,i)=>`<div class="soc-row"><div class="soc-icon">${s.icon}</div><div class="soc-lbl">${s.label}</div><input type="text" class="soc-url" value="${s.url}" placeholder="https://..." onchange="C.social[${i}].url=this.value"><label class="switch" style="flex-shrink:0;"><input type="checkbox" ${s.on?'checked':''} onchange="C.social[${i}].on=this.checked"><span class="slider"></span></label></div>`).join('');}
function loadMobileNav(){document.getElementById('mn-builder').innerHTML=C.mobileNav.map((item,i)=>`<div class="mn-builder-row"><input type="text" class="fi" style="width:65px;" value="${item.icon}" maxlength="4" placeholder="ğŸ " onchange="C.mobileNav[${i}].icon=this.value"><input type="text" class="fi" value="${item.label}" placeholder="Ø§Ù„ØªØ³Ù…ÙŠØ©" onchange="C.mobileNav[${i}].label=this.value"><input type="text" class="fi" value="${item.action}" placeholder="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡" onchange="C.mobileNav[${i}].action=this.value"><button onclick="rmMN(${i})" class="btn btn-dan btn-sm">Ø­Ø°Ù</button></div>`).join('')+'<button class="btn btn-ghost btn-sm" style="margin-top:.6rem;" onclick="addMN()">+ Ø¥Ø¶Ø§ÙØ© Ø²Ø±</button>';}
function addMN(){C.mobileNav.push({icon:'â­',label:'Ø¬Ø¯ÙŠØ¯',action:'home'});loadMobileNav();}
function rmMN(i){C.mobileNav.splice(i,1);loadMobileNav();}
function loadNavLinks(){document.getElementById('nav-builder').innerHTML=C.nav.map((n,i)=>`<div class="nav-builder-item"><input type="text" class="fi" value="${n.label}" placeholder="Ø§Ù„ØªØ³Ù…ÙŠØ©" onchange="C.nav[${i}].label=this.value" style="max-width:140px;"><input type="text" class="fi" value="${n.url||'#'}" placeholder="Ø§Ù„Ø±Ø§Ø¨Ø·" onchange="C.nav[${i}].url=this.value"><input type="text" class="fi" value="${n.cat||''}" placeholder="cat key" onchange="C.nav[${i}].cat=this.value" style="max-width:120px;"><label class="switch" style="flex-shrink:0;"><input type="checkbox" ${n.hl?'checked':''} onchange="C.nav[${i}].hl=this.checked" title="ØªÙ…ÙŠÙŠØ² Ø¨Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø­Ù…Ø±"><span class="slider"></span></label><button onclick="rmNav(${i})" class="btn btn-dan btn-sm">âœ•</button></div>`).join('');}
function addNavItem(){C.nav.push({label:'Ø±Ø§Ø¨Ø· Ø¬Ø¯ÙŠØ¯',url:'#',cat:''});loadNavLinks();}
function rmNav(i){C.nav.splice(i,1);loadNavLinks();}
function loadFooter(){const f=C.footer;document.getElementById('f-desc').value=f.desc;document.getElementById('f-copy').value=f.copy;document.getElementById('f-pay').value=(f.pay||[]).join(',');document.getElementById('f-c1t').value=f.c1t;document.getElementById('f-c1').value=(f.c1||[]).map(l=>l.l+' | '+l.u).join('\n');document.getElementById('f-c2t').value=f.c2t;document.getElementById('f-c2').value=(f.c2||[]).map(l=>l.l+' | '+l.u).join('\n');document.getElementById('f-c3t').value=f.c3t;document.getElementById('f-c3').value=(f.c3||[]).map(l=>l.l+' | '+l.u).join('\n');}
function loadReviews(){document.getElementById('rev-builder').innerHTML=C.reviews.map((r,i)=>`<div class="rev-row"><div class="rev-avatar">${r.ini}</div><div style="flex:1;display:grid;grid-template-columns:1fr 1fr;gap:.5rem;"><input type="text" class="fi" value="${r.name}" placeholder="Ø§Ù„Ø§Ø³Ù…" onchange="C.reviews[${i}].name=this.value"><input type="text" class="fi" value="${r.ini}" maxlength="2" placeholder="Ø­Ø±Ù" onchange="C.reviews[${i}].ini=this.value"><input type="text" class="fi" value="${r.date}" placeholder="Ù…Ù†Ø° 3 Ø£ÙŠØ§Ù…" onchange="C.reviews[${i}].date=this.value"><input type="number" class="fi" value="${r.stars}" min="1" max="5" placeholder="Ø§Ù„ØªÙ‚ÙŠÙŠÙ… 1-5" onchange="C.reviews[${i}].stars=parseInt(this.value)"><input type="text" class="fi" value="${r.prod}" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬" onchange="C.reviews[${i}].prod=this.value"><input type="text" class="fi" value="${r.clr||''}" placeholder="Ù„ÙˆÙ†1,Ù„ÙˆÙ†2 (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" onchange="C.reviews[${i}].clr=this.value"><textarea class="fi" style="grid-column:1/-1;" onchange="C.reviews[${i}].text=this.value">${r.text}</textarea></div><button onclick="rmRev(${i})" class="btn btn-dan btn-sm">Ø­Ø°Ù</button></div>`).join('')+'<button class="btn btn-ghost btn-sm" style="margin-top:.7rem;" onclick="addRev()">+ Ø¥Ø¶Ø§ÙØ© Ø±Ø£ÙŠ</button>';}
function addRev(){C.reviews.push({name:'Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„',ini:'Ø¹',clr:'',date:'Ù…Ù†Ø° ÙŠÙˆÙ…',stars:5,text:'ØªØ¬Ø±Ø¨Ø© Ø±Ø§Ø¦Ø¹Ø©!',prod:'Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬'});loadReviews();}
function rmRev(i){C.reviews.splice(i,1);loadReviews();}
function loadStoreSettings(){document.getElementById('ss-cur').value=C.store.currency||'Ø±.Ø³';document.getElementById('ss-ship').value=C.store.shipFee||25;document.getElementById('ss-free').value=C.store.freeShip||300;document.getElementById('ss-cod').checked=C.store.cod!==false;}
function loadDelivery(){document.getElementById('d-wa').value=C.delivery.ownerWA||'';document.getElementById('d-sc').checked=C.delivery.sendCust!==false;document.getElementById('d-so').checked=C.delivery.sendOwner!==false;document.getElementById('d-msg').value=C.delivery.msg||'';}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SECTION SAVERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function parseLinks(raw){return raw.split('\n').map(l=>l.trim()).filter(Boolean).map(l=>{const p=l.split('|');return{l:(p[0]||'').trim(),u:(p[1]||'#').trim()};});}

function saveSection(section) {
  const s={
    meta:()=>{ C.meta.name=document.getElementById('m-name').value;C.meta.tagline=document.getElementById('m-tagline').value;C.meta.logoLetter=document.getElementById('m-letter').value;C.meta.logoText=document.getElementById('m-logotext').value;C.meta.logoImg=document.getElementById('m-logoimg').value; },
    colors:()=>{ C.colors.primary=document.getElementById('c-primary').value;C.colors.secondary=document.getElementById('c-secondary').value;C.colors.accent=document.getElementById('c-accent').value;C.colors.navy=document.getElementById('c-navy').value;C.colors.navy2=document.getElementById('c-navy').value+'cc';C.colors.bg=document.getElementById('c-bg').value;C.colors.footerBg=document.getElementById('c-footer').value; },
    hero:()=>{ ['tag','l1','l2','desc','btn1','btn2','deco','s1v','s1l','s2v','s2l','s3v','s3l'].forEach(k=>C.hero[k]=document.getElementById('h-'+k).value); },
    announce:()=>{ C.announce.on=document.getElementById('an-on').checked;C.announce.items=document.getElementById('an-items').value.split('\n').map(l=>l.trim()).filter(Boolean);C.announce.speed=parseInt(document.getElementById('an-speed').value)||28; },
    trust:()=>{ /* live via onchange */ },
    cats:()=>{ /* live via onchange */ },
    promo:()=>{ C.promo.on=document.getElementById('pr-on').checked;C.promo.tag=document.getElementById('pr-tag').value;C.promo.btn=document.getElementById('pr-btn').value;C.promo.title=document.getElementById('pr-ttl').value;C.promo.desc=document.getElementById('pr-desc').value;C.promo.cat=document.getElementById('pr-cat').value;C.promo.bg=document.getElementById('pr-bg').value; },
    social:()=>{ /* live via onchange */ },
    mobileNav:()=>{ /* live via onchange */ },
    nav:()=>{ /* live via onchange */ },
    footer:()=>{ C.footer.desc=document.getElementById('f-desc').value;C.footer.copy=document.getElementById('f-copy').value;C.footer.pay=document.getElementById('f-pay').value.split(',').map(v=>v.trim()).filter(Boolean);C.footer.c1t=document.getElementById('f-c1t').value;C.footer.c1=parseLinks(document.getElementById('f-c1').value);C.footer.c2t=document.getElementById('f-c2t').value;C.footer.c2=parseLinks(document.getElementById('f-c2').value);C.footer.c3t=document.getElementById('f-c3t').value;C.footer.c3=parseLinks(document.getElementById('f-c3').value); },
    reviews:()=>{ /* live via onchange */ },
    store:()=>{ C.store.currency=document.getElementById('ss-cur').value;C.store.shipFee=parseFloat(document.getElementById('ss-ship').value)||25;C.store.freeShip=parseFloat(document.getElementById('ss-free').value)||300;C.store.cod=document.getElementById('ss-cod').checked; },
    delivery:()=>{ C.delivery.ownerWA=document.getElementById('d-wa').value;C.delivery.sendCust=document.getElementById('d-sc').checked;C.delivery.sendOwner=document.getElementById('d-so').checked;C.delivery.msg=document.getElementById('d-msg').value; },
  };
  if(s[section])s[section]();
  saveConfig();
  notif('âœ“ ØªÙ… Ø§Ù„Ø­ÙØ¸ â€” Ø³ÙŠØªØ­Ø¯Ø« Ø§Ù„Ù…ØªØ¬Ø± ÙÙˆØ±Ø§Ù‹','ok');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MODALS / NOTIF
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function openModal(id){document.getElementById(id).classList.add('open');}
function closeModal(id){document.getElementById(id).classList.remove('open');}
document.querySelectorAll('.modal-ov').forEach(o=>o.addEventListener('click',function(e){if(e.target===this)this.classList.remove('open');}));
let notifT;
function notif(msg,type=''){const el=document.getElementById('notif');el.textContent=msg;el.className='notif'+(type?' '+type:'');el.classList.add('show');clearTimeout(notifT);notifT=setTimeout(()=>el.classList.remove('show'),3000);}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
document.getElementById('app').style.display='none';
loadProductsLocal();

// â”€â”€ Ø¥Ø¶Ø§ÙØ© Ø´Ø§Ø±Ø© Firebase ÙÙŠ Ø§Ù„Ù€ sidebar â”€â”€
(function(){
  const foot=document.querySelector('.sb-foot');
  if(foot){
    const badge=document.createElement('div');
    badge.style.cssText='background:rgba(167,139,250,.1);border:1px solid rgba(167,139,250,.2);border-radius:8px;padding:.45rem .8rem;margin-bottom:.8rem;display:flex;align-items:center;gap:.5rem;font-size:.72rem;color:rgba(255,255,255,.5);';
    badge.innerHTML='ğŸ”¥ <span style="color:#a78bfa;font-weight:700;">Firebase</span> Ù…ØªØµÙ„ â€” my-store-6a072';
    foot.insertBefore(badge,foot.firstChild);
  }
})();

</script>
</body>
</html>
